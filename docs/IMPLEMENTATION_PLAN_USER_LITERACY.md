# Patent-AX ì‚¬ìš©ì ìˆ˜ì¤€ë³„ íŠ¹í—ˆ ì •ë³´ ì œê³µ ì‹œìŠ¤í…œ êµ¬í˜„ ê³„íšì„œ

**ì‘ì„±ì¼**: 2026-01-14
**ìµœì¢… ìˆ˜ì •**: 2026-01-14 (v1.3 - LLM ê¸°ë°˜ ìš©ì–´ ì„¤ëª… ì±„íƒ)
**ëŒ€ìƒ ì‹œìŠ¤í…œ**: Patent-AX v1.0.0
**PlutoLM ëŒ€ì²´**: EXAONE-4.0.1-32B (ì´ë¯¸ ì ìš©ë¨)
**ë¬¸ì„œ ë³€í™˜**: í´ë¼ë¦¬ìŠ¤ ì†”ë£¨ì…˜ ë³„ë„ êµ¬ì¶• ì˜ˆì •

## ğŸ“ ë³€ê²½ ì´ë ¥

### v1.3 (2026-01-14) - LLM ê¸°ë°˜ ìš©ì–´ ì„¤ëª… ì±„íƒ â­ ê¶Œì¥
**ë³€ê²½ ì‚¬ìœ **: ì‚¬ì „ ê¸°ë°˜ ìš©ì–´ ì„¤ëª…ì˜ ë¶€ìì—°ìŠ¤ëŸ¬ì›€, í’ˆì§ˆ ì˜ì¡´ì„± ë¬¸ì œ

**ì£¼ìš” ë³€ê²½ì‚¬í•­**:
- âŒ **ì œê±°**: 500ê°œ ìš©ì–´ ì‚¬ì „ êµ¬ì¶• ì‘ì—… (4.0 M/M ì ˆê°)
- âœ… **ì±„íƒ**: LLM ì‹¤ì‹œê°„ ì»¨í…ìŠ¤íŠ¸ ì¸ì‹ ìš©ì–´ ì„¤ëª…
- âœ… **ì¥ì **: ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ë§¥ ì„¤ëª…, ì‹ ì¡°ì–´ ìë™ ëŒ€ì‘, ìœ ì§€ë³´ìˆ˜ ë¶ˆí•„ìš”
- âœ… **ì„±ëŠ¥**: ê¸°ì¡´ê³¼ ë™ì¼ (1.8ì´ˆ, í›„ì²˜ë¦¬ ì œê±°ë¡œ ì˜¤íˆë ¤ ê°œì„  ê°€ëŠ¥)

**ê³µìˆ˜ ë³€í™”**:
- Phase 1: 10.6 M/M â†’ **6.6 M/M** (-4.0 M/M)
  - ì¢…ì ìš©ì–´ ì¶”ì¶œ (1.0 M/M) â†’ **ì œê±°**
  - ì „ë¬¸ê°€ 1ì°¨ ê²€ìˆ˜ (0.5 M/M) â†’ **ì œê±°**
  - LLM ë°°ì¹˜ ìƒì„± (2.0 M/M) â†’ **ì œê±°**
  - ì „ë¬¸ê°€ 2ì°¨ ê²€ìˆ˜ (0.5 M/M) â†’ **ì œê±°**
  - ê¸°ìˆ ìš”ì†Œ ë°°ì¹˜ ì¶”ì¶œë§Œ ìœ ì§€ (0.3 M/M)
- **ì „ì²´**: 26.6 M/M â†’ **22.6 M/M** (-4.0 M/M)

**êµ¬í˜„ ë°©ì•ˆ**:
1. **Phase 1** (ê¶Œì¥): ìˆœìˆ˜ LLM ì‹¤ì‹œê°„ ìƒì„± â†’ ì¦‰ì‹œ ë°°í¬ ê°€ëŠ¥
2. **Phase 2** (ì„ íƒ): ìºì‹± ì¶”ê°€ë¡œ ì„±ëŠ¥ ìµœì í™”
3. **Phase 3** (ì„ íƒ): í•µì‹¬ 50ê°œë§Œ ìˆ˜ë™ íë ˆì´ì…˜

**í•µì‹¬ ê°œì„ **:
- `LEVEL_PROMPTS_V3`: ê° ë ˆë²¨ë³„ë¡œ ìš©ì–´ ì„¤ëª… ê°€ì´ë“œë¼ì¸ ë‚´ì¥
- ë‹¨ì¼ LLM í˜¸ì¶œë¡œ ì‘ë‹µ + ìš©ì–´ ì„¤ëª… ë™ì‹œ ìƒì„±
- ì‚¬ì „ êµ¬ì¶•/ìœ ì§€ë³´ìˆ˜ ë¶€ë‹´ ì™„ì „ ì œê±°

### v1.2 (2026-01-14) - ë°ì´í„° êµ¬ì¶• í”„ë¡œì„¸ìŠ¤ ìƒì„¸í™”
**ë³€ê²½ ì‚¬ìœ **: ì „ì²´ íŠ¹í—ˆ ëŒ€ìƒ ì²˜ë¦¬ëŠ” ë¹„í˜„ì‹¤ì , 12ëŒ€ êµ­ê°€ì „ëµê¸°ìˆ ë¶„ì•¼ë¡œ ë²”ìœ„ í•œì •

**ì£¼ìš” ì¶”ê°€ì‚¬í•­**:
- âœ… **12ëŒ€ êµ­ê°€ê¸°ìˆ ë¶„ì•¼ ê¸°ë°˜ ë²”ìœ„ í•œì •** (1M+ â†’ 150K~200K)
- âœ… **íŠ¹í—ˆ ë¬¸ì„œ êµ¬ì¡° ê¸°ë°˜ ìš©ì–´ ì¶”ì¶œ ì „ëµ** (ì²­êµ¬í•­ ìš°ì„ ìˆœìœ„)
- âœ… **5ë‹¨ê³„ ë°ì´í„° êµ¬ì¶• í”„ë¡œì„¸ìŠ¤** (3.5ê°œì›” ì†Œìš”)
- âœ… **ì „ë¬¸ê°€ ê²€ìˆ˜ í”„ë¡œì„¸ìŠ¤** (1ì°¨: ìš©ì–´ ì„ ì •, 2ì°¨: ì„¤ëª… í’ˆì§ˆ)
- âœ… **ìë™ í’ˆì§ˆ ê²€ì¦ ê·œì¹™** (DataQualityValidator)
- âœ… **ë°°ì¹˜ ì²˜ë¦¬ ì‹œê°„ ì¶”ì •** (150K íŠ¹í—ˆ = 3.5ì¼)

**í•µì‹¬ ê°œì„ **:
1. ì²­êµ¬í•­ ê°€ì¤‘ì¹˜ 3.0, ìš”ì•½ 2.5, ë°œëª…ë‚´ìš© 2.0 ì°¨ë“± ì ìš©
2. ë¶„ì•¼ë‹¹ 1,000ê±´ ìƒ˜í”Œ Ã— 12ê°œ ë¶„ì•¼ = 12,000ê±´ ë¶„ì„
3. 2,000ê°œ í›„ë³´ â†’ ì „ë¬¸ê°€ ê²€ìˆ˜ â†’ 500ê°œ í•µì‹¬ ìš©ì–´
4. LLM ë°°ì¹˜ ìƒì„± + ì „ë¬¸ê°€ 2ì°¨ ê²€ìˆ˜ë¡œ í’ˆì§ˆ í™•ë³´

### v1.1 (2026-01-14) - ì‚¬ìš©ì ë ˆë²¨ ì„¤ì • ë°©ì‹ ê°œì„ 
**ë³€ê²½ ì‚¬ìœ **: ìë™ ê°ì§€ ë°©ì‹ì˜ ì •í™•ë„ ë¬¸ì œ ë° ë¶ˆí•„ìš”í•œ ë³µì¡ë„ ì œê±°

**ì£¼ìš” ë³€ê²½ì‚¬í•­**:
- âŒ **ì œê±°**: ëŒ€í™” ê¸°ë°˜ ìë™ ë¦¬í„°ëŸ¬ì‹œ ë ˆë²¨ ê°ì§€ (2.0 M/M ì ˆê°)
- âœ… **ì±„íƒ**: ê°€ì… ì‹œ í•™ë ¥/ì§ì—… ê¸°ë°˜ ê¸°ë³¸ ë ˆë²¨ ì„¤ì •
- âœ… **ì¶”ê°€**: UI í—¤ë” ë“œë¡­ë‹¤ìš´ìœ¼ë¡œ ì–¸ì œë“  ë ˆë²¨ ì „í™˜ ê°€ëŠ¥
- âœ… **ì¶”ê°€**: ë ˆë²¨ ë³€ê²½ ì´ë ¥ ì¶”ì  (ì„ íƒì‚¬í•­)
- âœ… **ì¶”ê°€**: ë ˆë²¨ë³„ ì‚¬ìš© í†µê³„ ë¶„ì„ ëŒ€ì‹œë³´ë“œ (Phase 3)

**ê³µìˆ˜ ë³€í™”**:
- Phase 3: 10.5 M/M â†’ 10.0 M/M (-0.5 M/M)
- **ì „ì²´**: 23.5 M/M â†’ 23.0 M/M (-0.5 M/M)

**ê°œì„  íš¨ê³¼**:
1. ì •í™•ë„ í–¥ìƒ: ì‚¬ìš©ìê°€ ì§ì ‘ ì„ íƒí•˜ë¯€ë¡œ 100% ì •í™•
2. ë³µì¡ë„ ê°ì†Œ: LLM ê¸°ë°˜ ë¶„ë¥˜ê¸° ë¶ˆí•„ìš”
3. ìœ ì—°ì„± ì¦ê°€: ê³ ë“±í•™ìƒ ì¤‘ ì „ë¬¸ê°€ë„ ì „ë¬¸ê°€ ëª¨ë“œ ì„ íƒ ê°€ëŠ¥
4. ë¹„ìš© ì ˆê°: ì¶”ê°€ LLM í˜¸ì¶œ ë¶ˆí•„ìš”

### v1.0 (2026-01-14) - ì´ˆì•ˆ ì‘ì„±

---

## ëª©ì°¨

1. [ê°œìš”](#1-ê°œìš”)
2. [í•µì‹¬ ìš”êµ¬ì‚¬í•­ ë¶„ì„](#2-í•µì‹¬-ìš”êµ¬ì‚¬í•­-ë¶„ì„)
3. [í˜„í™© ë¶„ì„](#3-í˜„í™©-ë¶„ì„)
4. [AI-Ready Data ì •ì˜](#4-ai-ready-data-ì •ì˜)
5. [êµ¬í˜„ ì˜ì—­ êµ¬ë¶„](#5-êµ¬í˜„-ì˜ì—­-êµ¬ë¶„)
6. [ìƒì„¸ ì„¤ê³„](#6-ìƒì„¸-ì„¤ê³„)
7. [êµ¬í˜„ ìš°ì„ ìˆœìœ„](#7-êµ¬í˜„-ìš°ì„ ìˆœìœ„)
8. [ê²€ì¦ ê³„íš](#8-ê²€ì¦-ê³„íš)

---

## 1. ê°œìš”

### 1.1 ëª©ì 

íŠ¹í—ˆ ì •ë³´ì˜ ë³µì¡ì„±ìœ¼ë¡œ ì¸í•´ ì‚¬ìš©ìì˜ **íŠ¹í—ˆ ë¦¬í„°ëŸ¬ì‹œ(Patent Literacy)** ìˆ˜ì¤€ì— ë”°ë¼ ì°¨ë³„í™”ëœ ê²½í—˜ì„ ì œê³µ:

1. **Easy Mode**: í•™ìƒ(L1) ëŒ€ìƒ ì‰¬ìš´ ì±—ë´‡ ì¸í„°í˜ì´ìŠ¤
2. **Normal Mode**: ëŒ€í•™ìƒ~ì „ë¬¸ê°€(L2-L6) ëŒ€ìƒ ìˆ˜ì¤€ë³„ ë§ì¶¤ ì‘ë‹µ

### 1.2 í•µì‹¬ ì°¨ë³„í™” ìš”ì†Œ

| ìš”ì†Œ | ì„¤ëª… | ì ‘ê·¼ ë°©ë²• |
|------|------|----------|
| **ìˆ˜ì¤€ë³„ UI** | Easy/Normal ëª¨ë“œ ë³„ë„ ì œê³µ | í”„ë¡ íŠ¸ì—”ë“œ ë¼ìš°íŒ… |
| **ëˆˆë†’ì´ ë§ì¶¤ ì‘ë‹µ** | ë™ì¼ ë°ì´í„°, ë‹¤ë¥¸ ì„¤ëª… ë°©ì‹ | í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ |
| **ê´€ì ë³„ ìš”ì•½** | ëª©ì /ì†Œì¬/ê³µë²•/íš¨ê³¼ ê´€ì  | ë°ì´í„° êµ¬ì¡°í™” + í”„ë¡¬í”„íŠ¸ |
| **ìš©ì–´ ë‹¨ê³„ë³„ ì œê³µ** | ì‰¬ìš´ë§ â†” ì „ë¬¸ìš©ì–´ ë§¤í•‘ | ìš©ì–´ ì‚¬ì „ + í›„ì²˜ë¦¬ |

---

## 2. í•µì‹¬ ìš”êµ¬ì‚¬í•­ ë¶„ì„

### 2.1 ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­

#### A. ì‚¬ìš©ì ìˆ˜ì¤€ë³„ UI ì œê³µ

```mermaid
flowchart LR
    User[ì‚¬ìš©ì] --> Register[ê°€ì…/í”„ë¡œí•„ ì„¤ì •]
    Register --> SelectLevel{ê¸°ë³¸ ë ˆë²¨ ì„ íƒ}

    SelectLevel -->|ì´ˆë“±/ì¤‘ë“±/ê³ ë“±| L1[L1 ë˜ëŠ” L2]
    SelectLevel -->|ëŒ€í•™ìƒ/ëŒ€í•™ì›ìƒ| L2[L2]
    SelectLevel -->|ì¤‘ì†Œê¸°ì—… ì‹¤ë¬´ì| L3[L3]
    SelectLevel -->|ì—°êµ¬ì›| L4[L4]
    SelectLevel -->|ë³€ë¦¬ì‚¬/ì „ë¬¸ê°€| L5[L5]
    SelectLevel -->|ì •ì±…ë‹´ë‹¹ì| L6[L6]

    L1 --> UI[UIì—ì„œ ì–¸ì œë“  ëª¨ë“œ ì „í™˜]
    L2 --> UI
    L3 --> UI
    L4 --> UI
    L5 --> UI
    L6 --> UI

    UI --> Easy[Easy Mode]
    UI --> Normal[Normal Mode]
    UI --> Expert[Expert Mode]
```

**ìš”êµ¬ì‚¬í•­**:
- [ ] ê°€ì… ì‹œ í•™ë ¥/ì§ì—… ê¸°ë°˜ ê¸°ë³¸ ë ˆë²¨ ì„¤ì •
- [ ] UI í—¤ë”ì— ëª¨ë“œ ì „í™˜ ë“œë¡­ë‹¤ìš´ (ì–¸ì œë“  ë³€ê²½ ê°€ëŠ¥)
- [ ] ì‚¬ìš©ì í”„ë¡œí•„ì— í˜„ì¬ ë ˆë²¨ ì €ì¥

#### B. ëˆˆë†’ì´ ë§ì¶¤ ì‘ë‹µ ìƒì„±

**ì‚¬ìš©ì ìˆ˜ì¤€ ì •ì˜** (ê¸°ì¡´ 3ë‹¨ê³„ â†’ 6ë‹¨ê³„ í™•ì¥):

| ë ˆë²¨ | ê·¸ë£¹ëª… | ëŒ€ìƒ | ì‘ë‹µ íŠ¹ì„± |
|------|--------|------|----------|
| **L1** | í•™ìƒ | ê³ ë“±í•™ìƒ, ëŒ€í•™ 1-2í•™ë…„ | ì‰¬ìš´ ë§, ë¹„ìœ , ì§§ì€ ë¬¸ì¥, ì´ëª¨ì§€ |
| **L2** | ëŒ€í•™ìƒ | í•™ë¶€ 3-4í•™ë…„, ì„Â·ë°•ì‚¬ | ì „ë¬¸ìš©ì–´ 30%, ë…¼ë¬¸ í˜•ì‹, ì°¸ê³ ë¬¸í—Œ |
| **L3** | ì¤‘ì†Œê¸°ì—… | ì¤‘ì†Œê¸°ì—… R&D, IPë‹´ë‹¹ | ì‹¤ë¬´ ì¤‘ì‹¬, ê²½ìŸì‚¬ ë™í–¥, ì‚¬ì—…í™” |
| **L4** | ì—°êµ¬ì | ì¶œì—°ì—°, ëŒ€ê¸°ì—… R&D | ê¸°ìˆ  ì‹¬ì¸µ, ì²­êµ¬í•­ ë¶„ì„, ê³µë°± ë°œê²¬ |
| **L5** | ì „ë¬¸ê°€ | ë³€ë¦¬ì‚¬, ì‹¬ì‚¬ê´€ | ì „ë¬¸ìš©ì–´ 90%, ê¶Œë¦¬ë²”ìœ„, ì„ í–‰ê¸°ìˆ  |
| **L6** | ì •ì±…ë‹´ë‹¹ì | ì§€ì‹ì¬ì‚°ì²˜ ì •ì±…ë¶€ì„œ | ê±°ì‹œ ë™í–¥, í†µê³„, ì •ì±… ì‹œì‚¬ì  |

**í˜„ì¬ ìƒíƒœ**:
- âœ… L1(ì´ˆë“±), L2(ì¼ë°˜ì¸), L5(ì „ë¬¸ê°€) 3ë‹¨ê³„ êµ¬í˜„ë¨
- âŒ L3, L4, L6 ë¯¸êµ¬í˜„
- âœ… ê°€ì… ê¸°ë°˜ ë ˆë²¨ ì„¤ì • ë°©ì‹ ì±„íƒ (ìë™ ê°ì§€ ë¶ˆí•„ìš”)

#### C. ê´€ì ë³„ íŠ¹í—ˆ ìš”ì•½

**4ëŒ€ ê´€ì **:

```mermaid
flowchart TB
    Patent[íŠ¹í—ˆ ë¬¸ì„œ] --> Analysis[AI ë¶„ì„]

    Analysis --> Purpose[ğŸ¯ ëª©ì  ê´€ì <br/>- í•´ê²°í•˜ë ¤ëŠ” ë¬¸ì œ<br/>- ì„ í–‰ê¸°ìˆ ì˜ í•œê³„<br/>- ë°œëª…ì˜ ëª©í‘œ]
    Analysis --> Material[ğŸ”¬ ì†Œì¬ ê´€ì <br/>- ì‚¬ìš©ëœ ì¬ë£Œ<br/>- í™”í•©ë¬¼ ì¡°ì„±<br/>- ë¬¼ì„± ë°ì´í„°]
    Analysis --> Process[âš™ï¸ ê³µë²• ê´€ì <br/>- ì œì¡° ë°©ë²•<br/>- ì²˜ë¦¬ ì¡°ê±´<br/>- ê³µì • ìˆœì„œ]
    Analysis --> Effect[âœ¨ íš¨ê³¼ ê´€ì <br/>- ê°œì„  íš¨ê³¼<br/>- ì„±ëŠ¥ í–¥ìƒ<br/>- ê¸°ëŒ€ ê²°ê³¼]
```

**ìš”êµ¬ì‚¬í•­**:
- [ ] ì²­êµ¬í•­/ëª…ì„¸ì„œì—ì„œ 4ëŒ€ ê´€ì  ìë™ ì¶”ì¶œ
- [ ] ê´€ì ë³„ ìš”ì•½ ìƒì„±
- [ ] ì‚¬ìš©ì ìˆ˜ì¤€ì— ë”°ë¼ ì„¤ëª… ë‚œì´ë„ ì¡°ì ˆ

#### D. ê¸°ìˆ  ìš©ì–´ ë‹¨ê³„ë³„ ì œê³µ

**ìš©ì–´ ì²˜ë¦¬ ì „ëµ**:

| ìˆ˜ì¤€ | ì „ë¬¸ìš©ì–´ ì‚¬ìš©ë¥  | ìš©ì–´ ì²˜ë¦¬ ë°©ì‹ | ì˜ˆì‹œ |
|------|----------------|---------------|------|
| **L1** | 5% | ì „ë¬¸ìš©ì–´ â†’ ì‰¬ìš´ë§ ìë™ ë³€í™˜ | "IPCë¶„ë¥˜" â†’ "ê¸°ìˆ  ì¢…ë¥˜" |
| **L2** | 30% | ì „ë¬¸ìš©ì–´ + (ê´„í˜¸ ì„¤ëª…) | "IPCë¶„ë¥˜(êµ­ì œ íŠ¹í—ˆ ë¶„ë¥˜)" |
| **L3** | 50% | ì‹¤ë¬´ ìš©ì–´ ì¤‘ì‹¬ | "ì„ í–‰ê¸°ìˆ ì¡°ì‚¬", "ê²½ìŸì‚¬ ì¶œì› ë™í–¥" |
| **L4** | 70% | ê¸°ìˆ  ìš©ì–´ ê·¸ëŒ€ë¡œ | "ì²­êµ¬í•­ ë…ë¦½í•­", "IPC H01M" |
| **L5** | 90% | ë²•ë¥ /ì‹¬ì‚¬ ìš©ì–´ | "ê¶Œë¦¬ë²”ìœ„ í•´ì„", "ì§„ë³´ì„± íŒë‹¨" |
| **L6** | 60% | ì •ì±… ìš©ì–´ | "ê¸°ìˆ ë¬´ì—­ìˆ˜ì§€", "íŠ¹í—ˆ íŒ¨ë°€ë¦¬" |

**ìš”êµ¬ì‚¬í•­**:
- [ ] íŠ¹í—ˆ ì „ë¬¸ìš©ì–´ ì‚¬ì „ êµ¬ì¶• (1ì°¨: 500ê°œ í•µì‹¬ ìš©ì–´)
- [ ] ìˆ˜ì¤€ë³„ ìš©ì–´ ë§¤í•‘ í…Œì´ë¸”
- [ ] ì‘ë‹µ í›„ì²˜ë¦¬ ìš©ì–´ ë³€í™˜ ë¡œì§

---

## 3. í˜„í™© ë¶„ì„

### 3.1 Patent-AX ê¸°ì¡´ êµ¬í˜„ í˜„í™©

#### âœ… ì´ë¯¸ êµ¬í˜„ëœ ê¸°ëŠ¥

| ê¸°ëŠ¥ | êµ¬í˜„ ìœ„ì¹˜ | ìƒíƒœ |
|------|----------|------|
| **3ë‹¨ê³„ ë¦¬í„°ëŸ¬ì‹œ ë ˆë²¨** | `workflow/state.py:233` | âœ… "ì´ˆë“±", "ì¼ë°˜ì¸", "ì „ë¬¸ê°€" |
| **ë ˆë²¨ë³„ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿** | `workflow/nodes/generator.py:544-565` | âœ… `LEVEL_PROMPTS` ë”•ì…”ë„ˆë¦¬ |
| **ë™ì  í”„ë¡¬í”„íŠ¸ ì¡°ë¦½** | `workflow/nodes/generator.py:869-873` | âœ… ë ˆë²¨ì— ë”°ë¼ í”„ë¡¬í”„íŠ¸ ì„ íƒ |
| **API ë ˆë²¨ íŒŒë¼ë¯¸í„°** | `api/models.py:434` | âœ… `ChatAskRequest.level` |
| **EXAONE LLM ì„œë¹™** | `llm/llm_client.py` | âœ… vLLM ì„œë²„ ì—°ë™ ì™„ë£Œ |
| **ê¸°ìˆ ìš”ì†Œ ì¶”ì¶œ êµ¬ì¡°** | `workflow/state.py` | âœ… `rag_results`, `sql_result` |

#### âŒ ë¯¸êµ¬í˜„ ê¸°ëŠ¥

| ê¸°ëŠ¥ | í•„ìš” ì‘ì—… | ìš°ì„ ìˆœìœ„ |
|------|----------|----------|
| **6ë‹¨ê³„ ë¦¬í„°ëŸ¬ì‹œ í™•ì¥** | L3~L6 í”„ë¡¬í”„íŠ¸ ì¶”ê°€ | ë†’ìŒ |
| **ê°€ì… ì‹œ ë ˆë²¨ ì„¤ì •** | í•™ë ¥/ì§ì—… ê¸°ë°˜ ë§¤í•‘ | ë†’ìŒ |
| **UI ëª¨ë“œ ì „í™˜** | ë“œë¡­ë‹¤ìš´ ì»´í¬ë„ŒíŠ¸ | ë†’ìŒ |
| **ê´€ì ë³„ ìš”ì•½** | ëª©ì /ì†Œì¬/ê³µë²•/íš¨ê³¼ ì¶”ì¶œ | ë†’ìŒ |
| **ìš©ì–´ ì‚¬ì „** | 500ê°œ í•µì‹¬ ìš©ì–´ DB | ë†’ìŒ |
| **ìš©ì–´ ìë™ ë³€í™˜** | í›„ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ | ì¤‘ê°„ |
| **ë¬¸ì„œ ì—…ë¡œë“œ UI** | í´ë¼ë¦¬ìŠ¤ ì—°ë™ + UI | ì¤‘ê°„ |

### 3.2 ê¸°ìˆ  ìŠ¤íƒ í˜„í™©

| êµ¬ì„±ìš”ì†Œ | í˜„ì¬ ìƒíƒœ | í™œìš© ë°©ì•ˆ |
|----------|----------|----------|
| **LLM** | EXAONE-4.0.1-32B (vLLM ì„œë¹™) | âœ… í”„ë¡¬í”„íŠ¸ ê¸°ë°˜ êµ¬í˜„ ê°€ëŠ¥ |
| **ë²¡í„° DB** | Qdrant (1.82M patents) | âœ… ì‹œë§¨í‹± ê²€ìƒ‰ í™œìš© |
| **ê´€ê³„í˜• DB** | PostgreSQL (f_patents) | âœ… êµ¬ì¡°í™” ë°ì´í„° ì €ì¥ |
| **Graph DB** | cuGraph (í˜„ì¬ ë¶ˆê°€) | âš ï¸ Graceful Degradation ì ìš©ë¨ |
| **ë¬¸ì„œ ì²˜ë¦¬** | í´ë¼ë¦¬ìŠ¤ ì†”ë£¨ì…˜ (ì˜ˆì •) | ğŸ”„ ë³„ë„ êµ¬ì¶• ì˜ˆì • |
| **í”„ë¡ íŠ¸ì—”ë“œ** | Next.js 14 | âœ… ëª¨ë“œë³„ ë¼ìš°íŒ… ê°€ëŠ¥ |

---

## 4. AI-Ready Data ì •ì˜

### 4.1 ë°ì´í„° vs í”„ë¡¬í”„íŠ¸ êµ¬ë¶„ ì›ì¹™

```mermaid
flowchart TB
    subgraph ë°ì´í„°ë¡œí•´ê²°["ğŸ“Š ë°ì´í„° êµ¬ì¡°í™” ì˜ì—­"]
        D1[ê´€ì ë³„ ê¸°ìˆ ìš”ì†Œ ì¶”ì¶œ<br/>ëª©ì /ì†Œì¬/ê³µë²•/íš¨ê³¼]
        D2[ìš©ì–´ ì‚¬ì „<br/>ì „ë¬¸ìš©ì–´ â†” ì‰¬ìš´ë§ ë§¤í•‘]
        D3[íŠ¹í—ˆ ë©”íƒ€ë°ì´í„°<br/>IPC, ì¶œì›ì¸, ì¸ìš© ê´€ê³„]
        D4[í†µê³„ ë°ì´í„°<br/>ê¸°ìˆ  ë™í–¥, ë¶„í¬]
    end

    subgraph í”„ë¡¬í”„íŠ¸ë¡œí•´ê²°["ğŸ¤– í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ ì˜ì—­"]
        P1[ì„¤ëª… ìŠ¤íƒ€ì¼ ì¡°ì ˆ<br/>ì‰¬ìš´ë§/ì „ë¬¸ìš©ì–´/ë¹„ìœ ]
        P2[ì‘ë‹µ ê¸¸ì´ ì¡°ì ˆ<br/>ì§§ê²Œ/ìƒì„¸í•˜ê²Œ]
        P3[ì˜ˆì‹œ ì œê³µ ë°©ì‹<br/>ì¼ìƒ/ê¸°ìˆ /ë²•ë¥ ]
        P4[ë¬¸ì¥ êµ¬ì¡°<br/>ë‹¨ìˆœë¬¸/ë³µë¬¸]
    end

    ë°ì´í„°ë¡œí•´ê²° --> Hybrid[í•˜ì´ë¸Œë¦¬ë“œ<br/>ë°ì´í„° + í”„ë¡¬í”„íŠ¸]
    í”„ë¡¬í”„íŠ¸ë¡œí•´ê²° --> Hybrid
```

### 4.2 AI-Ready Data ìŠ¤í‚¤ë§ˆ ì„¤ê³„

#### A. ê´€ì ë³„ ê¸°ìˆ ìš”ì†Œ í…Œì´ë¸”

**ì‹ ê·œ í…Œì´ë¸”**: `f_patent_tech_elements`

```sql
CREATE TABLE f_patent_tech_elements (
    id SERIAL PRIMARY KEY,
    documentid VARCHAR(50) NOT NULL,  -- íŠ¹í—ˆë²ˆí˜¸ (FK)

    -- ëª©ì  ê´€ì 
    purpose_problem TEXT,              -- í•´ê²°í•˜ë ¤ëŠ” ë¬¸ì œ
    purpose_limitation TEXT,           -- ì„ í–‰ê¸°ìˆ ì˜ í•œê³„
    purpose_goal TEXT,                 -- ë°œëª…ì˜ ëª©í‘œ

    -- ì†Œì¬ ê´€ì 
    material_compounds JSONB,          -- í™”í•©ë¬¼ ëª©ë¡ [{name, ratio, cas_no}]
    material_properties JSONB,         -- ë¬¼ì„± ë°ì´í„° [{property, value, unit}]

    -- ê³µë²• ê´€ì 
    process_steps JSONB,               -- ê³µì • ë‹¨ê³„ [{step, condition, parameter}]
    process_conditions JSONB,          -- ì²˜ë¦¬ ì¡°ê±´ [{temp, pressure, time}]

    -- íš¨ê³¼ ê´€ì 
    effect_improvements JSONB,         -- ê°œì„  íš¨ê³¼ [{aspect, improvement, unit}]
    effect_performance JSONB,          -- ì„±ëŠ¥ ë°ì´í„° [{metric, value, comparison}]

    -- ë©”íƒ€ë°ì´í„°
    extracted_at TIMESTAMP DEFAULT NOW(),
    confidence_score FLOAT,            -- ì¶”ì¶œ ì‹ ë¢°ë„ (0.0~1.0)
    extraction_method VARCHAR(50),     -- 'llm' | 'rule-based' | 'hybrid'

    FOREIGN KEY (documentid) REFERENCES f_patents(documentid)
);

CREATE INDEX idx_patent_tech_elements_doc ON f_patent_tech_elements(documentid);
CREATE INDEX idx_patent_tech_elements_confidence ON f_patent_tech_elements(confidence_score);
```

**ë°ì´í„° ìƒ˜í”Œ**:

```json
{
  "documentid": "KR1020210001234",
  "purpose_problem": "ê¸°ì¡´ ë¦¬íŠ¬ì´ì˜¨ ë°°í„°ë¦¬ì˜ ë‚®ì€ ì—ë„ˆì§€ ë°€ë„ ë¬¸ì œ",
  "purpose_limitation": "ì•¡ì²´ ì „í•´ì§ˆ ì‚¬ìš©ìœ¼ë¡œ ì¸í•œ ì•ˆì „ì„± ìš°ë ¤",
  "purpose_goal": "ì „ê³ ì²´ ì „í•´ì§ˆì„ ì‚¬ìš©í•œ ê³ ì—ë„ˆì§€ ë°€ë„ ë°°í„°ë¦¬",
  "material_compounds": [
    {"name": "Li7La3Zr2O12", "ratio": "80%", "role": "ì „ê³ ì²´ ì „í•´ì§ˆ"},
    {"name": "LiNi0.8Co0.1Mn0.1O2", "ratio": "100%", "role": "ì–‘ê·¹ì¬"}
  ],
  "material_properties": [
    {"property": "ì´ì˜¨ì „ë„ë„", "value": "1.2e-3", "unit": "S/cm"},
    {"property": "ì—ë„ˆì§€ë°€ë„", "value": "350", "unit": "Wh/kg"}
  ],
  "process_steps": [
    {"step": "ì „í•´ì§ˆ í•©ì„±", "condition": "1000â„ƒ ì†Œê²°", "time": "12ì‹œê°„"},
    {"step": "ì–‘ê·¹ì¬ ì½”íŒ…", "condition": "ìŠ¤í¼í„°ë§", "parameter": "Ar ë¶„ìœ„ê¸°"}
  ],
  "effect_improvements": [
    {"aspect": "ì—ë„ˆì§€ë°€ë„", "improvement": "+30%", "comparison": "vs ê¸°ì¡´ ì•¡ì²´ ì „í•´ì§ˆ"},
    {"aspect": "ì•ˆì „ì„±", "improvement": "í­ë°œ ìœ„í—˜ ì œê±°", "comparison": "ì—´í­ì£¼ ë¯¸ë°œìƒ"}
  ]
}
```

#### B. ìš©ì–´ ì‚¬ì „ í…Œì´ë¸”

**ì‹ ê·œ í…Œì´ë¸”**: `f_patent_terms`

```sql
CREATE TABLE f_patent_terms (
    id SERIAL PRIMARY KEY,
    term VARCHAR(200) NOT NULL,         -- ì „ë¬¸ ìš©ì–´
    category VARCHAR(50),                -- 'technical' | 'legal' | 'business'

    -- ìˆ˜ì¤€ë³„ ì„¤ëª…
    level_l1 TEXT,                       -- í•™ìƒìš© ì‰¬ìš´ë§
    level_l2 TEXT,                       -- ëŒ€í•™ìƒìš© ê¸°ì´ˆ ì„¤ëª…
    level_l3 TEXT,                       -- ì¤‘ì†Œê¸°ì—…ìš© ì‹¤ë¬´ ì„¤ëª…
    level_l4 TEXT,                       -- ì—°êµ¬ììš© ê¸°ìˆ  ì„¤ëª…
    level_l5 TEXT,                       -- ì „ë¬¸ê°€ìš© ë²•ë¥ /ì‹¬ì‚¬ ì„¤ëª…
    level_l6 TEXT,                       -- ì •ì±…ë‹´ë‹¹ììš© ê±°ì‹œ ì„¤ëª…

    -- ë™ì˜ì–´/ê´€ë ¨ì–´
    synonyms JSONB,                      -- ë™ì˜ì–´ ëª©ë¡
    related_terms JSONB,                 -- ê´€ë ¨ ìš©ì–´ ëª©ë¡

    -- ë©”íƒ€ë°ì´í„°
    ipc_codes JSONB,                     -- ê´€ë ¨ IPC ë¶„ë¥˜
    usage_frequency INT DEFAULT 0,       -- ì‚¬ìš© ë¹ˆë„
    created_at TIMESTAMP DEFAULT NOW(),

    UNIQUE(term)
);

CREATE INDEX idx_patent_terms_term ON f_patent_terms(term);
CREATE INDEX idx_patent_terms_category ON f_patent_terms(category);
CREATE FULLTEXT INDEX idx_patent_terms_search ON f_patent_terms(term, level_l1, level_l2);
```

**ë°ì´í„° ìƒ˜í”Œ**:

```json
{
  "term": "IPC ë¶„ë¥˜",
  "category": "technical",
  "level_l1": "ê¸°ìˆ  ì¢…ë¥˜ë¥¼ ë‚˜ëˆ„ëŠ” ë°©ë²• (ì˜ˆ: ìë™ì°¨ ê¸°ìˆ , ë°°í„°ë¦¬ ê¸°ìˆ )",
  "level_l2": "êµ­ì œíŠ¹í—ˆë¶„ë¥˜(International Patent Classification). íŠ¹í—ˆë¥¼ ê¸°ìˆ  ë¶„ì•¼ë³„ë¡œ êµ¬ë¶„í•˜ëŠ” êµ­ì œ í‘œì¤€",
  "level_l3": "IPC ì½”ë“œë¥¼ í†µí•´ ê²½ìŸì‚¬ íŠ¹í—ˆ ê²€ìƒ‰ ë° ê¸°ìˆ  ë™í–¥ íŒŒì•… ê°€ëŠ¥",
  "level_l4": "H01M 10/052: ë¦¬íŠ¬ì´ì°¨ì „ì§€ ë“± ì„¸ë¶€ ë¶„ë¥˜ê¹Œì§€ í™œìš©í•œ ì„ í–‰ê¸°ìˆ  ì¡°ì‚¬",
  "level_l5": "íŠ¹í—ˆ ì‹¬ì‚¬ ì‹œ IPC ê¸°ë°˜ ì„ í–‰ê¸°ìˆ  ê²€ìƒ‰ ë° ê±°ì ˆì´ìœ  í†µì§€ì„œ ì‘ì„±",
  "level_l6": "IPC ëŒ€ë¶„ë¥˜ë³„ êµ­ê°€ ê²½ìŸë ¥ ë¶„ì„ ë° ê¸°ìˆ ë¬´ì—­ìˆ˜ì§€ í‰ê°€ ì§€í‘œ",
  "synonyms": ["êµ­ì œíŠ¹í—ˆë¶„ë¥˜", "International Patent Classification"],
  "related_terms": ["CPC ë¶„ë¥˜", "ê¸°ìˆ  ë¶„ì•¼", "íŠ¹í—ˆ ê²€ìƒ‰"],
  "ipc_codes": ["*"],
  "usage_frequency": 1523
}
```

#### C. ì‚¬ìš©ì í”„ë¡œí•„ í…Œì´ë¸”

**ì‹ ê·œ í…Œì´ë¸”**: `f_user_profiles`

```sql
CREATE TABLE f_user_profiles (
    id SERIAL PRIMARY KEY,
    user_id VARCHAR(100) UNIQUE NOT NULL,  -- SSO ì—°ë™ ì‚¬ìš©ì ID

    -- ê¸°ë³¸ ì •ë³´ (ê°€ì… ì‹œ ì…ë ¥)
    education_level VARCHAR(50),            -- ì´ˆë“±/ì¤‘ë“±/ê³ ë“±/ëŒ€í•™ìƒ/ëŒ€í•™ì›ìƒ
    occupation VARCHAR(50),                 -- í•™ìƒ/ì¤‘ì†Œê¸°ì—…/ì—°êµ¬ì›/ë³€ë¦¬ì‚¬/ì •ì±…ë‹´ë‹¹ì

    -- ë¦¬í„°ëŸ¬ì‹œ ë ˆë²¨
    registered_level VARCHAR(20) NOT NULL,  -- ê°€ì… ì‹œ ì„¤ì •ëœ ê¸°ë³¸ ë ˆë²¨
    current_level VARCHAR(20) NOT NULL,     -- í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ ë ˆë²¨ (UIì—ì„œ ë³€ê²½ ê°€ëŠ¥)

    -- ë ˆë²¨ ë³€ê²½ ì´ë ¥ (ì„ íƒì‚¬í•­)
    level_change_history JSONB,             -- [{timestamp, from_level, to_level}]

    -- ì‚¬ìš© íŒ¨í„´
    interaction_count INT DEFAULT 0,        -- ì§ˆì˜ íšŸìˆ˜
    preferred_topics JSONB,                 -- ì„ í˜¸ ê¸°ìˆ  ë¶„ì•¼

    -- í•™ìŠµ ì´ë ¥
    viewed_terms JSONB,                     -- ì¡°íšŒí•œ ìš©ì–´ ëª©ë¡
    saved_patents JSONB,                    -- ë¶ë§ˆí¬í•œ íŠ¹í—ˆ

    -- ë©”íƒ€ë°ì´í„°
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW(),

    CHECK (registered_level IN ('L1', 'L2', 'L3', 'L4', 'L5', 'L6')),
    CHECK (current_level IN ('L1', 'L2', 'L3', 'L4', 'L5', 'L6'))
);

CREATE INDEX idx_user_profiles_user_id ON f_user_profiles(user_id);
CREATE INDEX idx_user_profiles_current_level ON f_user_profiles(current_level);
```

### 4.3 ë°ì´í„° êµ¬ì¶• í”„ë¡œì„¸ìŠ¤ (12ëŒ€ êµ­ê°€ê¸°ìˆ ë¶„ì•¼ ê¸°ë°˜)

#### A. ë²”ìœ„ í•œì • ì „ëµ

**12ëŒ€ êµ­ê°€ì „ëµê¸°ìˆ ë¶„ì•¼** (êµ­ê°€ê³¼í•™ê¸°ìˆ ìë¬¸íšŒì˜ ì§€ì •):
1. ë°˜ë„ì²´Â·ë””ìŠ¤í”Œë ˆì´
2. ì´ì°¨ì „ì§€
3. ë°±ì‹ Â·ë°”ì´ì˜¤ì˜ì•½í’ˆ
4. ìˆ˜ì†Œ
5. ë¯¸ë˜ì°¨
6. ì°¨ì„¸ëŒ€ ì›ì „
7. ì²¨ë‹¨ ë¡œë´‡Â·ì œì¡°
8. ì–‘ìê¸°ìˆ 
9. ì‚¬ì´ë²„ ë³´ì•ˆ
10. ìš°ì£¼Â·í•­ê³µ
11. ì¸ê³µì§€ëŠ¥
12. ì°¨ì„¸ëŒ€ í†µì‹ 

**ë²”ìœ„ í•œì • ê·¼ê±°**:
- ì „ì²´ íŠ¹í—ˆ 1M+ â†’ í˜„ì‹¤ì ìœ¼ë¡œ ì²˜ë¦¬ ë¶ˆê°€
- 12ëŒ€ ë¶„ì•¼ íŠ¹í—ˆ ì•½ 150K~200K â†’ ì²˜ë¦¬ ê°€ëŠ¥
- êµ­ê°€ ì „ëµ ë¶„ì•¼ë¡œ ì‚¬ìš©ì ê´€ì‹¬ë„ ë†’ìŒ

#### B. íŠ¹í—ˆ ë¬¸ì„œ êµ¬ì¡° ê¸°ë°˜ ìš©ì–´ ì¶”ì¶œ

**íŠ¹í—ˆ ë¬¸ì„œì˜ ê³„ì¸µ êµ¬ì¡°**:
```
íŠ¹í—ˆ ë¬¸ì„œ
â”œâ”€â”€ ì„œì§€ì‚¬í•­ (Bibliographic Data)
â”‚   â”œâ”€â”€ ì¶œì›ì¸, ë°œëª…ì, IPC ë¶„ë¥˜ ë“±
â”‚   â””â”€â”€ ğŸ“Š ìš©ì–´ ì¶”ì¶œ: ê¸°ê´€ëª…, ê¸°ìˆ ë¶„ë¥˜ ìš©ì–´
â”‚
â”œâ”€â”€ ìš”ì•½ (Abstract)
â”‚   â”œâ”€â”€ ë°œëª…ì˜ ê°œìš” (100-200ì)
â”‚   â””â”€â”€ ğŸ“Š ìš©ì–´ ì¶”ì¶œ: í•µì‹¬ ê¸°ìˆ ìš©ì–´ (ê°€ì¥ ë†’ì€ ë¹ˆë„)
â”‚
â”œâ”€â”€ ì²­êµ¬í•­ (Claims) â­ ìµœìš°ì„ 
â”‚   â”œâ”€â”€ ë…ë¦½í•­: ë°œëª…ì˜ í•µì‹¬ êµ¬ì„±
â”‚   â”œâ”€â”€ ì¢…ì†í•­: ì„¸ë¶€ ì‹¤ì‹œì˜ˆ
â”‚   â””â”€â”€ ğŸ“Š ìš©ì–´ ì¶”ì¶œ: ê¸°ìˆ ìš”ì†Œ, êµ¬ì„±ìš”ì†Œ, ìˆ˜ì¹˜ íŒŒë¼ë¯¸í„°
â”‚
â”œâ”€â”€ ë°œëª…ì˜ ìƒì„¸í•œ ì„¤ëª… (Detailed Description)
â”‚   â”œâ”€â”€ ê¸°ìˆ ë¶„ì•¼
â”‚   â”œâ”€â”€ ë°°ê²½ê¸°ìˆ  â†’ ğŸ“Š ì„ í–‰ê¸°ìˆ  ìš©ì–´
â”‚   â”œâ”€â”€ ë°œëª…ì˜ ë‚´ìš© â†’ ğŸ“Š í•µì‹¬ ê°œë… ìš©ì–´
â”‚   â”œâ”€â”€ ë„ë©´ì˜ ê°„ë‹¨í•œ ì„¤ëª…
â”‚   â””â”€â”€ ë°œëª…ì˜ ì‹¤ì‹œë¥¼ ìœ„í•œ êµ¬ì²´ì  ë‚´ìš© â†’ ğŸ“Š ì‹¤ë¬´ ìš©ì–´
â”‚
â””â”€â”€ ë„ë©´ (Drawings)
    â””â”€â”€ ë„ë©´ ë¶€í˜¸ ì„¤ëª… â†’ ğŸ“Š êµ¬ì„±ìš”ì†Œ ìš©ì–´
```

**ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ì¶”ì¶œ ì „ëµ**:
1. **ì²­êµ¬í•­ (Claims)**: ë²•ì  ê¶Œë¦¬ë²”ìœ„ â†’ ê°€ì¥ ì •í™•í•œ ê¸°ìˆ ìš©ì–´
2. **ìš”ì•½ (Abstract)**: ì••ì¶•ëœ í•µì‹¬ ë‚´ìš© â†’ ê³ ë¹ˆë„ í•µì‹¬ ìš©ì–´
3. **ë°œëª…ì˜ ë‚´ìš©**: êµ¬ì²´ì  ì„¤ëª… â†’ ì‹¤ë¬´ ì ìš© ìš©ì–´

#### C. ë‹¨ê³„ë³„ ë°ì´í„° êµ¬ì¶• í”„ë¡œì„¸ìŠ¤

**Phase 1: ì¢…ì ìš©ì–´ ì¶”ì¶œ (1ê°œì›”)**

```mermaid
flowchart TB
    Start[12ëŒ€ ë¶„ì•¼ íŠ¹í—ˆ ì„ ì •] --> Filter[í•„í„°ë§]

    Filter --> IPC[IPC ì½”ë“œ ë§¤í•‘<br/>ì˜ˆ: H01M - ì´ì°¨ì „ì§€]
    Filter --> Recent[ìµœê·¼ 5ë…„ íŠ¹í—ˆ<br/>ê¸°ìˆ  ìµœì‹ ì„± í™•ë³´]
    Filter --> Citation[í”¼ì¸ìš© ìƒìœ„ 10%<br/>ì˜í–¥ë ¥ ìˆëŠ” íŠ¹í—ˆ]

    IPC --> Sample[ìƒ˜í”Œ ì„ ì •<br/>ë¶„ì•¼ë‹¹ 1,000ê±´<br/>ì´ 12,000ê±´]
    Recent --> Sample
    Citation --> Sample

    Sample --> Extract[êµ¬ì¡° ê¸°ë°˜ ì¶”ì¶œ]

    Extract --> Claims[ì²­êµ¬í•­ ìš©ì–´<br/>TF-IDF ë¶„ì„]
    Extract --> Abstract[ìš”ì•½ ìš©ì–´<br/>ë¹ˆë„ ë¶„ì„]
    Extract --> Desc[ìƒì„¸ì„¤ëª… ìš©ì–´<br/>ì„¹ì…˜ë³„ ë¶„ì„]

    Claims --> Merge[ìš©ì–´ ë³‘í•© ë° ì •ì œ]
    Abstract --> Merge
    Desc --> Merge

    Merge --> Rank[ë¹ˆë„ Ã— ì¤‘ìš”ë„ ë­í‚¹]
    Rank --> Seed[ì¢…ì ìš©ì–´ 2,000ê°œ<br/>ë¶„ì•¼ë‹¹ 150~200ê°œ]
```

**êµ¬ì²´ì  ì¶”ì¶œ ë¡œì§**:

```python
# scripts/extract_seed_terms.py
class PatentTermExtractor:
    """íŠ¹í—ˆ ë¬¸ì„œ êµ¬ì¡° ê¸°ë°˜ ìš©ì–´ ì¶”ì¶œ"""

    SECTION_WEIGHTS = {
        "claims": 3.0,        # ì²­êµ¬í•­ ê°€ì¤‘ì¹˜ ìµœê³ 
        "abstract": 2.5,      # ìš”ì•½ ë‘ë²ˆì§¸
        "background": 1.5,    # ë°°ê²½ê¸°ìˆ 
        "description": 2.0,   # ë°œëª…ì˜ ë‚´ìš©
        "embodiment": 1.8     # ì‹¤ì‹œì˜ˆ
    }

    def extract_from_patent(self, patent: Dict) -> List[TermScore]:
        """íŠ¹í—ˆ ë¬¸ì„œì—ì„œ ê°€ì¤‘ì¹˜ ê¸°ë°˜ ìš©ì–´ ì¶”ì¶œ"""

        # 1. ì„¹ì…˜ë³„ ì¶”ì¶œ
        claims_terms = self.extract_from_section(
            patent["claims"],
            section="claims"
        )

        abstract_terms = self.extract_from_section(
            patent["abstract"],
            section="abstract"
        )

        description_terms = self.extract_from_section(
            patent["description"],
            section="description"
        )

        # 2. ê°€ì¤‘ì¹˜ ì ìš© ë³‘í•©
        all_terms = defaultdict(float)

        for term, score in claims_terms:
            all_terms[term] += score * self.SECTION_WEIGHTS["claims"]

        for term, score in abstract_terms:
            all_terms[term] += score * self.SECTION_WEIGHTS["abstract"]

        for term, score in description_terms:
            all_terms[term] += score * self.SECTION_WEIGHTS["description"]

        # 3. í•„í„°ë§ (ë¶ˆìš©ì–´, ì¼ë°˜ ë‹¨ì–´ ì œê±°)
        filtered = self.filter_general_words(all_terms)

        # 4. ë­í‚¹
        return sorted(filtered.items(), key=lambda x: x[1], reverse=True)
```

**Phase 2: ë¶„ì•¼ë³„ ì „ë¬¸ê°€ ê²€ìˆ˜ (0.5ê°œì›”)**

```
12ëŒ€ ë¶„ì•¼ Ã— ì „ë¬¸ê°€ 1ëª… = 12ëª…

ê²€ìˆ˜ ê¸°ì¤€:
1. ê¸°ìˆ ì  ì •í™•ì„± (ìš©ì–´ê°€ í•´ë‹¹ ë¶„ì•¼ í‘œì¤€ ìš©ì–´ì¸ê°€?)
2. ì‚¬ìš© ë¹ˆë„ (ì‹¤ì œ ì‹¤ë¬´ì—ì„œ ìì£¼ ì“°ì´ëŠ”ê°€?)
3. ìˆ˜ì¤€ ì í•©ì„± (L1~L6 ì¤‘ ì–´ëŠ ë ˆë²¨ì—ì„œ ì„¤ëª…ì´ í•„ìš”í•œê°€?)
4. ì¤‘ë³µ ì œê±° (ë™ì˜ì–´ í†µí•©)

ê²°ê³¼: 2,000ê°œ â†’ 500ê°œ í•µì‹¬ ìš©ì–´ (1ì°¨)
```

**Phase 3: ìˆ˜ì¤€ë³„ ì„¤ëª… ìƒì„± (1ê°œì›”)**

```python
# scripts/generate_level_explanations.py
LEVEL_EXPLANATION_PROMPT_TEMPLATE = """
íŠ¹í—ˆ ìš©ì–´: "{term}"
ê¸°ìˆ  ë¶„ì•¼: {tech_field}
ìš©ì–´ ì •ì˜: {definition}

íŠ¹í—ˆ ë¬¸ì„œ ì‚¬ìš© ì˜ˆì‹œ:
{patent_examples}

ìœ„ ìš©ì–´ë¥¼ ì‚¬ìš©ì ìˆ˜ì¤€ë³„ë¡œ ì„¤ëª…ì„ ì‘ì„±í•˜ì„¸ìš”:

L1 (ì´ˆë“±/ì¤‘ë“±/ê³ ë“±í•™ìƒ):
- ì¼ìƒ ì–¸ì–´ë¡œ ë¹„ìœ  ì‚¬ìš©
- 10ë‹¨ì–´ ì´ë‚´ ì§§ì€ ë¬¸ì¥
- ì˜ˆ: "íœ´ëŒ€í° ë°°í„°ë¦¬ì²˜ëŸ¼..."

L2 (ëŒ€í•™ìƒ/ëŒ€í•™ì›ìƒ):
- ê¸°ì´ˆ í•™ìˆ  ìš©ì–´ ì‚¬ìš©
- ê´„í˜¸ ì•ˆì— ì˜ë¬¸ ìš©ì–´
- ë…¼ë¬¸ ì‘ì„± ì°¸ê³  ê°€ëŠ¥

L3 (ì¤‘ì†Œê¸°ì—… ì‹¤ë¬´ì):
- ì‹¤ë¬´ ì ìš© ê´€ì 
- ì œí’ˆ/ê³µì •ê³¼ ì—°ê²°
- ì‚¬ì—…í™” ê³ ë ¤ì‚¬í•­

L4 (ì—°êµ¬ì›):
- ê¸°ìˆ  ì›ë¦¬ ìƒì„¸
- ì¸¡ì • ë°©ë²•, ìˆ˜ì¹˜ ë²”ìœ„
- IPC ì½”ë“œ ì–¸ê¸‰

L5 (ë³€ë¦¬ì‚¬/ì‹¬ì‚¬ê´€):
- ë²•ì  ì •ì˜
- ì„ í–‰ê¸°ìˆ ê³¼ ì°¨ì´ì 
- ê¶Œë¦¬ë²”ìœ„ í•´ì„

L6 (ì •ì±…ë‹´ë‹¹ì):
- ì‚°ì—… ì „ì²´ ë§¥ë½
- êµ­ê°€ë³„ ê¸°ìˆ  ìˆ˜ì¤€
- ì •ì±…ì  ì˜ë¯¸

JSON í˜•ì‹ìœ¼ë¡œ ì¶œë ¥:
{{
  "L1": "...",
  "L2": "...",
  ...
}}
"""

def generate_explanations_batch():
    """ë°°ì¹˜ ì²˜ë¦¬ë¡œ 500ê°œ ìš©ì–´ ì„¤ëª… ìƒì„±"""
    llm = get_llm_client()  # EXAONE or GPT-4

    for term in seed_terms:
        # 1. íŠ¹í—ˆ ë¬¸ì„œì—ì„œ ì‚¬ìš© ì˜ˆì‹œ ì¶”ì¶œ
        examples = get_patent_usage_examples(term, limit=5)

        # 2. LLM í˜¸ì¶œ
        prompt = LEVEL_EXPLANATION_PROMPT_TEMPLATE.format(
            term=term["name"],
            tech_field=term["field"],
            definition=term["definition"],
            patent_examples="\n".join(examples)
        )

        result = llm.generate(prompt, temperature=0.3)
        explanations = json.loads(result)

        # 3. DB ì €ì¥
        save_term_explanations(term["name"], explanations)
```

**Phase 4: ì „ë¬¸ê°€ ê²€ìˆ˜ ë° í”¼ë“œë°± ë°˜ì˜ (0.5ê°œì›”)**

```
ê²€ìˆ˜ í•­ëª©:
1. ìˆ˜ì¤€ë³„ ì„¤ëª… ì ì ˆì„± (L1ì´ ë„ˆë¬´ ì–´ë µì§€ëŠ” ì•Šì€ê°€?)
2. ê¸°ìˆ ì  ì˜¤ë¥˜ ìˆ˜ì •
3. ëˆ„ë½ëœ í•µì‹¬ ì •ë³´ ì¶”ê°€
4. í‘œí˜„ ê°œì„  (ë” ì‰½ê²Œ, ë” ì •í™•í•˜ê²Œ)

ë°©ë²•:
- ì˜¨ë¼ì¸ ê²€ìˆ˜ ì‹œìŠ¤í…œ (Google Sheets ë˜ëŠ” ì „ìš© UI)
- ë¶„ì•¼ë‹¹ ì „ë¬¸ê°€ 2ëª… êµì°¨ ê²€ìˆ˜
- í”¼ë“œë°± ë°˜ì˜ í›„ ìµœì¢… ìŠ¹ì¸
```

**Phase 5: ì ì§„ì  í™•ì¥ (2~6ê°œì›”, ì§€ì†)**

```
1ì°¨ 500ê°œ â†’ 2ì°¨ 1,000ê°œ â†’ 3ì°¨ 2,000ê°œ

í™•ì¥ ê¸°ì¤€:
1. ì‚¬ìš©ì ì§ˆì˜ ë¡œê·¸ ë¶„ì„ (ë¯¸ë“±ë¡ ìš©ì–´ ë¹ˆë„)
2. ì‹ ê¸°ìˆ  ì¶œí˜„ (ì˜ˆ: ChatGPT â†’ "ìƒì„±í˜• AI" ìš©ì–´ ì¶”ê°€)
3. ë¶„ì•¼ë³„ ë¶ˆê· í˜• í•´ì†Œ (íŠ¹ì • ë¶„ì•¼ ìš©ì–´ ë¶€ì¡± ì‹œ)
```

#### D. ê¸°ìˆ ìš”ì†Œ ì¶”ì¶œ í”„ë¡œì„¸ìŠ¤ (4ëŒ€ ê´€ì )

**ë²”ìœ„**: 12ëŒ€ ë¶„ì•¼ íŠ¹í—ˆ 150K~200K

```python
# embedding/extract_tech_elements_batch.py
class TechElementBatchExtractor:
    """4ëŒ€ ê´€ì  ê¸°ìˆ ìš”ì†Œ ë°°ì¹˜ ì¶”ì¶œ"""

    def extract_by_field(self, tech_field: str):
        """ë¶„ì•¼ë³„ ë°°ì¹˜ ì²˜ë¦¬"""

        # 1. í•´ë‹¹ ë¶„ì•¼ íŠ¹í—ˆ ì¡°íšŒ
        patents = self.get_patents_by_field(tech_field, limit=15000)

        # 2. ë°°ì¹˜ í¬ê¸° ì„¤ì • (GPU ë©”ëª¨ë¦¬ ê³ ë ¤)
        batch_size = 10

        for i in range(0, len(patents), batch_size):
            batch = patents[i:i+batch_size]

            # 3. ë³‘ë ¬ ì¶”ì¶œ (vLLM ë°°ì¹˜ ì²˜ë¦¬)
            results = await self.llm.generate_batch([
                TECH_ELEMENT_EXTRACTION_PROMPT.format(
                    claims=p["claims"],
                    description=p["description"]
                )
                for p in batch
            ], temperature=0.1)

            # 4. ê²€ì¦ ë° ì €ì¥
            for patent, result in zip(batch, results):
                elements = json.loads(result)
                if self.validate(elements):
                    self.save(patent["documentid"], elements)
                else:
                    logger.warning(f"ê²€ì¦ ì‹¤íŒ¨: {patent['documentid']}")
```

**ì²˜ë¦¬ ì‹œê°„ ì¶”ì •**:
- íŠ¹í—ˆë‹¹ í‰ê·  2ì´ˆ (LLM ì¶”ì¶œ)
- 150K íŠ¹í—ˆ Ã— 2ì´ˆ = 300Kì´ˆ = 83ì‹œê°„ = **ì•½ 3.5ì¼**
- GPU ì„œë²„ 24ì‹œê°„ ê°€ë™ ê¸°ì¤€

#### E. ë°ì´í„° í’ˆì§ˆ ê´€ë¦¬

**ìë™ ê²€ì¦ ê·œì¹™**:

```python
class DataQualityValidator:
    """ë°ì´í„° í’ˆì§ˆ ìë™ ê²€ì¦"""

    def validate_term_explanation(self, term: str, explanations: Dict) -> bool:
        """ìš©ì–´ ì„¤ëª… í’ˆì§ˆ ê²€ì¦"""

        # 1. í•„ìˆ˜ ë ˆë²¨ ì¡´ì¬ í™•ì¸
        required_levels = ["L1", "L2", "L3", "L4", "L5", "L6"]
        if not all(level in explanations for level in required_levels):
            return False

        # 2. L1 ì„¤ëª… ê¸¸ì´ ì œí•œ (10ë‹¨ì–´ ì´ë‚´)
        l1_word_count = len(explanations["L1"].split())
        if l1_word_count > 15:  # ì—¬ìœ  í—ˆìš©
            logger.warning(f"{term} L1 ì„¤ëª… ë„ˆë¬´ ê¹€: {l1_word_count}ë‹¨ì–´")
            return False

        # 3. ì „ë¬¸ìš©ì–´ ë¹„ìœ¨ ê²€ì¦
        # L1: 5% ì´í•˜, L5: 90% ì´ìƒ
        l1_tech_ratio = self.calculate_tech_term_ratio(explanations["L1"])
        if l1_tech_ratio > 0.1:
            logger.warning(f"{term} L1ì— ì „ë¬¸ìš©ì–´ ê³¼ë‹¤: {l1_tech_ratio*100}%")
            return False

        return True

    def validate_tech_elements(self, elements: Dict) -> bool:
        """ê¸°ìˆ ìš”ì†Œ ì¶”ì¶œ ê²°ê³¼ ê²€ì¦"""

        # 1. 4ëŒ€ ê´€ì  ëª¨ë‘ ì¡´ì¬
        required_keys = ["purpose", "material", "process", "effect"]
        if not all(key in elements for key in required_keys):
            return False

        # 2. ê° ê´€ì ì— ìµœì†Œ 1ê°œ ì´ìƒ ë°ì´í„°
        for key in required_keys:
            if not elements[key] or len(str(elements[key])) < 10:
                logger.warning(f"ê´€ì  '{key}' ë°ì´í„° ë¶€ì¡±")
                return False

        # 3. JSON êµ¬ì¡° ì¼ê´€ì„±
        try:
            json.dumps(elements, ensure_ascii=False)
        except:
            return False

        return True
```

#### F. ìµœì¢… ë°ì´í„° êµ¬ì¶• ì¼ì •

| Phase | ì‘ì—… | ê¸°ê°„ | ì‚°ì¶œë¬¼ |
|-------|------|------|--------|
| **Phase 1** | ì¢…ì ìš©ì–´ ì¶”ì¶œ (12ëŒ€ ë¶„ì•¼, 12K íŠ¹í—ˆ ë¶„ì„) | 1ê°œì›” | 2,000ê°œ í›„ë³´ ìš©ì–´ |
| **Phase 2** | ì „ë¬¸ê°€ 1ì°¨ ê²€ìˆ˜ | 0.5ê°œì›” | 500ê°œ í•µì‹¬ ìš©ì–´ |
| **Phase 3** | LLM ê¸°ë°˜ ìˆ˜ì¤€ë³„ ì„¤ëª… ìƒì„± | 1ê°œì›” | 500ê°œ Ã— 6ë ˆë²¨ = 3,000ê°œ ì„¤ëª… |
| **Phase 4** | ì „ë¬¸ê°€ 2ì°¨ ê²€ìˆ˜ (ì„¤ëª… í’ˆì§ˆ) | 0.5ê°œì›” | ê²€ì¦ëœ 500ê°œ ìš©ì–´ ì‚¬ì „ |
| **Phase 5** | ê¸°ìˆ ìš”ì†Œ ë°°ì¹˜ ì¶”ì¶œ (4ëŒ€ ê´€ì ) | 0.5ê°œì›” | 150K íŠ¹í—ˆ ê¸°ìˆ ìš”ì†Œ DB |
| **ì§€ì†** | ì ì§„ì  í™•ì¥ (ì‚¬ìš©ì í”¼ë“œë°± ê¸°ë°˜) | 3~6ê°œì›” | 1,000ê°œ â†’ 2,000ê°œ í™•ì¥ |

**ì´ ì†Œìš” ê¸°ê°„**: 3.5ê°œì›” (í•µì‹¬ 500ê°œ ì™„ì„±) + ì§€ì†ì  í™•ì¥

#### G. ìš©ì–´ ì„¤ëª… ë°©ì‹ ë¹„êµ: ì‚¬ì „ vs LLM ì‹¤ì‹œê°„ ìƒì„±

**Issue**: ì‚¬ì „ ê¸°ë°˜ ìš©ì–´ ì„¤ëª…ì˜ í•œê³„
1. ë¶€ìì—°ìŠ¤ëŸ¬ìš´ ì„¤ëª… (ë¬¸ë§¥ ë¬´ì‹œ)
2. ì‚¬ì „ í’ˆì§ˆì— ì¢Œìš°ë¨
3. ìœ ì§€ë³´ìˆ˜ ë¶€ë‹´ (ì‹ ì¡°ì–´, ì—…ë°ì´íŠ¸)
4. ê²½ì§ëœ í‘œí˜„ (ê³ ì •ëœ í…œí”Œë¦¿)

**ì œì•ˆ: LLM ê¸°ë°˜ ì‹¤ì‹œê°„ ì»¨í…ìŠ¤íŠ¸ ì¸ì‹ ì„¤ëª…**

##### ë°©ì•ˆ 1: ìˆœìˆ˜ LLM ì‹¤ì‹œê°„ ìƒì„± â­ ê¶Œì¥

**ì¥ì **:
- ë¬¸ë§¥ì— ë§ëŠ” ìì—°ìŠ¤ëŸ¬ìš´ ì„¤ëª…
- ì‘ë‹µ ì „ì²´ì™€ ì¼ê´€ì„± ìœ ì§€
- ì‚¬ì „ êµ¬ì¶•/ìœ ì§€ë³´ìˆ˜ ë¶ˆí•„ìš”
- ì‹ ì¡°ì–´ ìë™ ëŒ€ì‘

**ë‹¨ì **:
- ì‘ë‹µ ì‹œê°„ ì•½ê°„ ì¦ê°€ (0.5~1ì´ˆ)
- ì¼ê´€ì„± ë³´ì¥ ì–´ë ¤ì›€ (ë™ì¼ ìš©ì–´, ë‹¤ë¥¸ ì„¤ëª…)
- LLM í˜¸ì¶œ ë¹„ìš©

**êµ¬í˜„ ë°©ì‹**:

```python
# workflow/nodes/generator.py í™•ì¥
class LevelAwareResponseGenerator:
    """ìˆ˜ì¤€ë³„ ì‘ë‹µ ìƒì„± (ìš©ì–´ ì‹¤ì‹œê°„ ì„¤ëª… í¬í•¨)"""

    LEVEL_PROMPTS_V3 = {
        "L1": """ì´ˆë“±í•™ìƒë„ ì´í•´í•  ìˆ˜ ìˆê²Œ ë‹µë³€í•˜ì„¸ìš”.

**ì‘ë‹µ ê°€ì´ë“œë¼ì¸**:
- ì „ë¬¸ìš©ì–´ë¥¼ ì‰¬ìš´ ë§ë¡œ ë°”ê¿” ì„¤ëª…
  ì˜ˆ: "IPC ë¶„ë¥˜" â†’ "ê¸°ìˆ  ì¢…ë¥˜ë¥¼ ë‚˜ëˆ„ëŠ” ë°©ë²•"
  ì˜ˆ: "ì–‘ê·¹ì¬" â†’ "ë°°í„°ë¦¬ì—ì„œ ì „ê¸°ë¥¼ ë§Œë“œëŠ” ë¬¼ì§ˆ"
- ë¹„ìœ ë¥¼ ë§ì´ ì‚¬ìš© ("ë§ˆì¹˜ ~ì²˜ëŸ¼")
- ë¬¸ì¥ì„ ì§§ê²Œ (10ë‹¨ì–´ ì´ë‚´)
- ì´ëª¨ì§€ í™œìš© ğŸ”‹âš¡

**ì¤‘ìš”**: ìš©ì–´ê°€ ì²˜ìŒ ë‚˜ì˜¬ ë•Œ ìì—°ìŠ¤ëŸ½ê²Œ í’€ì–´ì„œ ì„¤ëª…í•˜ì„¸ìš”.
ì˜ˆì‹œ) "ì´ íŠ¹í—ˆëŠ” IPC ë¶„ë¥˜ H01Mì— ì†í•˜ëŠ”ë°, ì´ê±´ ë°°í„°ë¦¬ ê¸°ìˆ ì„ ëœ»í•´ìš” ğŸ”‹"
""",

        "L2": """ëŒ€í•™ìƒ/ëŒ€í•™ì›ìƒ ìˆ˜ì¤€ìœ¼ë¡œ ë‹µë³€í•˜ì„¸ìš”.

**ì‘ë‹µ ê°€ì´ë“œë¼ì¸**:
- ì „ë¬¸ìš©ì–´ ì‚¬ìš©í•˜ë˜ ê´„í˜¸ ì•ˆì— ê°„ë‹¨í•œ ì„¤ëª…
  ì˜ˆ: "IPC(êµ­ì œíŠ¹í—ˆë¶„ë¥˜)"
  ì˜ˆ: "ì–‘ê·¹ì¬(Cathode material, ë°°í„°ë¦¬ì˜ ì–‘ê·¹ í™œë¬¼ì§ˆ)"
- í•™ìˆ ì  í‘œí˜„ ì‚¬ìš©
- ë…¼ë¬¸ ì‘ì„± ì°¸ê³  ê°€ëŠ¥í•˜ë„ë¡

**ì¤‘ìš”**: ìš©ì–´ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ë¬¸ë§¥ì— ë§ì¶° ì„¤ëª…í•˜ì„¸ìš”.
""",

        "L3": """ì¤‘ì†Œê¸°ì—… ì‹¤ë¬´ì ìˆ˜ì¤€ìœ¼ë¡œ ë‹µë³€í•˜ì„¸ìš”.

**ì‘ë‹µ ê°€ì´ë“œë¼ì¸**:
- ì‹¤ë¬´ ì ìš© ê´€ì ìœ¼ë¡œ ìš©ì–´ ì„¤ëª…
  ì˜ˆ: "IPC ë¶„ë¥˜ëŠ” ê²½ìŸì‚¬ íŠ¹í—ˆ ê²€ìƒ‰ ì‹œ í•„ìˆ˜ì…ë‹ˆë‹¤"
  ì˜ˆ: "NCM ì–‘ê·¹ì¬ëŠ” í˜„ëŒ€ì°¨ ë°°í„°ë¦¬ì— ì£¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤"
- ì‚¬ì—…í™” ê°€ëŠ¥ì„± ì–¸ê¸‰
- ì œí’ˆ/ê³µì •ê³¼ ì—°ê²°

**ì¤‘ìš”**: ìš©ì–´ê°€ ì‹¤ë¬´ì—ì„œ ì–´ë–»ê²Œ ì“°ì´ëŠ”ì§€ ì„¤ëª…í•˜ì„¸ìš”.
""",

        "L4": """ì—°êµ¬ì ìˆ˜ì¤€ìœ¼ë¡œ ë‹µë³€í•˜ì„¸ìš”.

**ì‘ë‹µ ê°€ì´ë“œë¼ì¸**:
- ê¸°ìˆ  ìš©ì–´ ê·¸ëŒ€ë¡œ ì‚¬ìš©
- ì¸¡ì • ë°©ë²•, ìˆ˜ì¹˜ ë²”ìœ„ í¬í•¨
  ì˜ˆ: "NCM811 ì–‘ê·¹ì¬ (Ni 0.8, Co 0.1, Mn 0.1 ë¹„ìœ¨)"
- IPC ì„¸ë¶€ ì½”ë“œ í™œìš©

**ì¤‘ìš”**: ìš©ì–´ëŠ” ì •í™•í•œ ê¸°ìˆ ì  ì •ì˜ë¡œ ì‚¬ìš©í•˜ì„¸ìš”.
""",

        "L5": """ë³€ë¦¬ì‚¬/ì‹¬ì‚¬ê´€ ì „ë¬¸ê°€ ìˆ˜ì¤€ìœ¼ë¡œ ë‹µë³€í•˜ì„¸ìš”.

**ì‘ë‹µ ê°€ì´ë“œë¼ì¸**:
- ë²•ë¥ /ì‹¬ì‚¬ ì „ë¬¸ ìš©ì–´ ê·¸ëŒ€ë¡œ ì‚¬ìš©
- ê¶Œë¦¬ë²”ìœ„, ì„ í–‰ê¸°ìˆ  ë§¤í•‘
- íŠ¹í—ˆë²• ì¡°í•­ ì–¸ê¸‰ ê°€ëŠ¥

**ì¤‘ìš”**: ìš©ì–´ëŠ” ë²•ì  ì •ì˜ ê¸°ì¤€ìœ¼ë¡œ ì‚¬ìš©í•˜ì„¸ìš”.
""",

        "L6": """ì •ì±…ë‹´ë‹¹ì ìˆ˜ì¤€ìœ¼ë¡œ ë‹µë³€í•˜ì„¸ìš”.

**ì‘ë‹µ ê°€ì´ë“œë¼ì¸**:
- ê±°ì‹œì  ê´€ì ìœ¼ë¡œ ìš©ì–´ ì„¤ëª…
  ì˜ˆ: "IPC H01M ë¶„ì•¼ëŠ” ì¤‘êµ­ì´ íŠ¹í—ˆ ì¶œì› 1ìœ„ì…ë‹ˆë‹¤"
- ì‚°ì—… ì „ì²´ ë§¥ë½, êµ­ê°€ë³„ ë¹„êµ
- ì •ì±…ì  ì‹œì‚¬ì  ë„ì¶œ

**ì¤‘ìš”**: ìš©ì–´ë¥¼ ì‚°ì—…/ì •ì±… ë§¥ë½ì—ì„œ ì„¤ëª…í•˜ì„¸ìš”.
"""
    }

    async def generate_response(self, state: Dict) -> str:
        """ìˆ˜ì¤€ë³„ ì‘ë‹µ ìƒì„±"""
        level = state.get("level", "L2")
        query = state["query"]
        context = state["rag_results"]  # ê²€ìƒ‰ëœ íŠ¹í—ˆ ë¬¸ì„œë“¤

        # 1. ë ˆë²¨ë³„ í”„ë¡¬í”„íŠ¸ ì„ íƒ
        level_instruction = self.LEVEL_PROMPTS_V3[level]

        # 2. í†µí•© í”„ë¡¬í”„íŠ¸ êµ¬ì„±
        full_prompt = f"""
{level_instruction}

# ì‚¬ìš©ì ì§ˆë¬¸
{query}

# ì°¸ê³  ìë£Œ (íŠ¹í—ˆ ë¬¸ì„œ)
{format_context(context)}

ìœ„ ìë£Œë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‚¬ìš©ì ì§ˆë¬¸ì— ë‹µë³€í•˜ì„¸ìš”.
ì „ë¬¸ìš©ì–´ëŠ” ìœ„ì˜ ê°€ì´ë“œë¼ì¸ì— ë”°ë¼ ìì—°ìŠ¤ëŸ½ê²Œ ì„¤ëª…í•˜ì„¸ìš”.
"""

        # 3. LLM í˜¸ì¶œ (ë‹¨ì¼ í˜¸ì¶œë¡œ ì‘ë‹µ + ìš©ì–´ ì„¤ëª… ë™ì‹œ ìƒì„±)
        response = await self.llm.generate(
            prompt=full_prompt,
            temperature=0.3,
            max_tokens=TOKEN_LIMITS[level]
        )

        return response
```

**ì„±ëŠ¥ ì˜í–¥**:
- ê¸°ì¡´: ì‘ë‹µ ìƒì„± (1.5ì´ˆ) + ìš©ì–´ ë³€í™˜ í›„ì²˜ë¦¬ (0.3ì´ˆ) = **1.8ì´ˆ**
- ì‹ ê·œ: ì‘ë‹µ ìƒì„± ë‹¨ì¼ í˜¸ì¶œ (1.8ì´ˆ) = **1.8ì´ˆ**
- **ì°¨ì´ ì—†ìŒ!** (ì˜¤íˆë ¤ í›„ì²˜ë¦¬ ì œê±°ë¡œ ë” ë¹ ë¥¼ ìˆ˜ ìˆìŒ)

##### ë°©ì•ˆ 2: í•˜ì´ë¸Œë¦¬ë“œ (í•µì‹¬ ìš©ì–´ë§Œ ì‚¬ì „, ë‚˜ë¨¸ì§€ LLM)

**ì¥ì **:
- í•µì‹¬ 50ê°œ ìš©ì–´ëŠ” ì¼ê´€ì„± ë³´ì¥ (ì˜ˆ: "íŠ¹í—ˆ", "ì²­êµ¬í•­", "IPC")
- ë‚˜ë¨¸ì§€ëŠ” LLM ì‹¤ì‹œê°„ ì„¤ëª…
- ì‚¬ì „ ê·œëª¨ ìµœì†Œí™” (500ê°œ â†’ 50ê°œ)

**ë‹¨ì **:
- ì—¬ì „íˆ ì‚¬ì „ ìœ ì§€ë³´ìˆ˜ í•„ìš”
- ë³µì¡ë„ ì¦ê°€ (ì‚¬ì „ ì¡°íšŒ + LLM í˜¸ì¶œ)

**êµ¬í˜„ ë°©ì‹**:

```python
# workflow/nodes/generator.py
CORE_TERMS = {
    "íŠ¹í—ˆ": {
        "L1": "ìƒˆë¡œìš´ ë°œëª…ì„ ë³´í˜¸í•˜ëŠ” ì¦ëª…ì„œ",
        "L2": "ë°œëª…ì— ëŒ€í•œ ë…ì ì  ê¶Œë¦¬ë¥¼ ì¸ì •í•˜ëŠ” ë²•ì  ë¬¸ì„œ",
        "L5": "íŠ¹í—ˆë²• ì œ2ì¡°ì— ë”°ë¥¸ ì‚°ì—…ìƒ ì´ìš© ê°€ëŠ¥í•œ ë°œëª…ì˜ ë³´í˜¸ê¶Œ"
    },
    "ì²­êµ¬í•­": {
        "L1": "ë°œëª…ì˜ í•µì‹¬ ë‚´ìš©ì„ ì„¤ëª…í•œ ë¶€ë¶„",
        "L2": "íŠ¹í—ˆì˜ ê¶Œë¦¬ë²”ìœ„ë¥¼ ì •ì˜í•˜ëŠ” ê¸°ìˆ ì  êµ¬ì„±ìš”ì†Œ",
        "L5": "íŠ¹í—ˆë²• ì œ42ì¡° ì œ4í•­ì— ë”°ë¥¸ ê¶Œë¦¬ë²”ìœ„ ê¸°ì¬ì‚¬í•­"
    },
    # ... í•µì‹¬ 50ê°œë§Œ
}

class HybridTermExplainer:
    """í•˜ì´ë¸Œë¦¬ë“œ ìš©ì–´ ì„¤ëª…"""

    async def generate_response(self, state: Dict) -> str:
        level = state.get("level", "L2")
        query = state["query"]

        # 1. í•µì‹¬ ìš©ì–´ í”„ë¡¬í”„íŠ¸ì— ì£¼ì…
        core_term_instructions = self._build_core_term_guide(level)

        full_prompt = f"""
{LEVEL_PROMPTS_V3[level]}

# í•µì‹¬ ìš©ì–´ ê³ ì • ì„¤ëª… (ë°˜ë“œì‹œ ì´ë ‡ê²Œ ì„¤ëª…í•˜ì„¸ìš”)
{core_term_instructions}

# ë‚˜ë¨¸ì§€ ìš©ì–´ëŠ” ë¬¸ë§¥ì— ë§ê²Œ ìì—°ìŠ¤ëŸ½ê²Œ ì„¤ëª…í•˜ì„¸ìš”

# ì‚¬ìš©ì ì§ˆë¬¸
{query}
...
"""

        response = await self.llm.generate(full_prompt)
        return response

    def _build_core_term_guide(self, level: str) -> str:
        """í•µì‹¬ ìš©ì–´ ê°€ì´ë“œ ìƒì„±"""
        guide = []
        for term, explanations in CORE_TERMS.items():
            guide.append(f'- "{term}" â†’ "{explanations[level]}"')
        return "\n".join(guide)
```

##### ë°©ì•ˆ 3: ìºì‹± ê¸°ë°˜ LLM ì„¤ëª… (ì„±ëŠ¥ ìµœì í™”)

**ê°œë…**:
- ì²« ì‘ë‹µ ì‹œ LLMì´ ìƒì„±í•œ ìš©ì–´ ì„¤ëª…ì„ ìºì‹±
- ë™ì¼ ìš©ì–´ ì¬ì‚¬ìš© ì‹œ ìºì‹œ í™œìš©
- ìì—°ìŠ¤ëŸ½ê²Œ "ì‚¬ì „"ì´ ì¶•ì ë¨

**ì¥ì **:
- ì´ˆê¸° ì‚¬ì „ êµ¬ì¶• ë¶ˆí•„ìš”
- ì‹¤ì œ ì‚¬ìš© íŒ¨í„´ ê¸°ë°˜ ìš©ì–´ ì¶•ì 
- ì¼ê´€ì„± ì ì§„ì  í–¥ìƒ
- ì¸ê¸° ìš©ì–´ëŠ” ë¹ ë¥¸ ì‘ë‹µ

**êµ¬í˜„**:

```python
class CachedLLMTermExplainer:
    """ìºì‹± ê¸°ë°˜ LLM ìš©ì–´ ì„¤ëª…"""

    def __init__(self):
        self.redis_client = get_redis_client()

    async def generate_response_with_cache(self, state: Dict) -> str:
        level = state["level"]
        query = state["query"]

        # 1. ì‘ë‹µ ìƒì„±
        response = await self.llm.generate(prompt, temperature=0.3)

        # 2. ì‘ë‹µì—ì„œ ìš©ì–´ ì„¤ëª… ì¶”ì¶œ (ì„ íƒì‚¬í•­)
        # ì˜ˆ: "IPC ë¶„ë¥˜(êµ­ì œ íŠ¹í—ˆ ë¶„ë¥˜)"ì—ì„œ ì¶”ì¶œ
        term_explanations = self._extract_term_explanations(response, level)

        # 3. ìºì‹± (TTL 30ì¼)
        for term, explanation in term_explanations.items():
            cache_key = f"term:{term}:{level}"
            self.redis_client.setex(
                cache_key,
                30 * 24 * 3600,  # 30ì¼
                explanation
            )

        return response

    def _extract_term_explanations(self, response: str, level: str) -> Dict:
        """ì‘ë‹µì—ì„œ ìš©ì–´ ì„¤ëª… ì¶”ì¶œ (í›„ì²˜ë¦¬)"""
        # ê´„í˜¸ ì„¤ëª… íŒ¨í„´: "IPC(êµ­ì œ íŠ¹í—ˆ ë¶„ë¥˜)"
        pattern = r'(\w+)\(([^)]+)\)'
        matches = re.findall(pattern, response)
        return {term: explanation for term, explanation in matches}
```

##### ê¶Œì¥ ë°©ì•ˆ: **ë°©ì•ˆ 1 (ìˆœìˆ˜ LLM)** + ì„ íƒì  **ë°©ì•ˆ 3 (ìºì‹±)**

**ìµœì¢… êµ¬í˜„ ì „ëµ**:

1. **Phase 1**: ìˆœìˆ˜ LLM ì‹¤ì‹œê°„ ìƒì„± (ì‚¬ì „ êµ¬ì¶• ë¶ˆí•„ìš”)
   - ê°œë°œ ê³µìˆ˜ ìµœì†Œí™”
   - ì¦‰ì‹œ ë°°í¬ ê°€ëŠ¥
   - ìì—°ìŠ¤ëŸ¬ìš´ ì‘ë‹µ

2. **Phase 2** (ì„ íƒì‚¬í•­): ìºì‹± ì¶”ê°€
   - ì¸ê¸° ìš©ì–´ ìë™ ì¶•ì 
   - ì‘ë‹µ ì†ë„ ê°œì„ 
   - ì¼ê´€ì„± ì ì§„ì  í–¥ìƒ

3. **Phase 3** (ì„ íƒì‚¬í•­): í•µì‹¬ 50ê°œë§Œ ìˆ˜ë™ íë ˆì´ì…˜
   - "íŠ¹í—ˆ", "ì²­êµ¬í•­" ë“± ì´ˆê³ ë¹ˆë„ ìš©ì–´ë§Œ
   - ì „ë¬¸ê°€ ê²€ìˆ˜ë¡œ í’ˆì§ˆ ë³´ì¥

**ê³µìˆ˜ ì ˆê°**:
- ìš©ì–´ ì‚¬ì „ êµ¬ì¶• (6.3 M/M ì¤‘ 4.0 M/M) â†’ **0 M/M**
- Phase 1 ì „ì²´: 10.6 M/M â†’ **6.6 M/M** (4.0 M/M ì ˆê°)
- ì „ì²´ í”„ë¡œì íŠ¸: 26.6 M/M â†’ **22.6 M/M**

---

## 5. êµ¬í˜„ ì˜ì—­ êµ¬ë¶„

### 5.1 í”„ë¡¬í”„íŠ¸ë¡œ í•´ê²°í•  ì˜ì—­

#### A. ì‘ë‹µ ìŠ¤íƒ€ì¼ ì¡°ì ˆ

**êµ¬í˜„ ìœ„ì¹˜**: `workflow/nodes/generator.py`

**ê¸°ì¡´ ì½”ë“œ í™•ì¥**:

```python
# í˜„ì¬: 3ë‹¨ê³„ (ì´ˆë“±, ì¼ë°˜ì¸, ì „ë¬¸ê°€)
LEVEL_PROMPTS = {
    "ì´ˆë“±": "...",
    "ì¼ë°˜ì¸": "...",
    "ì „ë¬¸ê°€": "..."
}

# í™•ì¥: 6ë‹¨ê³„
LEVEL_PROMPTS_V2 = {
    "L1": """ì¹œì ˆí•œ ì„ ìƒë‹˜ì²˜ëŸ¼ ì´ˆë“±í•™ìƒë„ ì´í•´í•  ìˆ˜ ìˆê²Œ:
    - ì „ë¬¸ìš©ì–´ â†’ ì‰¬ìš´ë§ ("íŠ¹í—ˆ" â†’ "ìƒˆë¡œìš´ ë°œëª…ì„ ë³´í˜¸í•˜ëŠ” ì¦ëª…ì„œ")
    - ë¹„ìœ  ë§ì´ ì‚¬ìš© (ì˜ˆ: "ë°°í„°ë¦¬ëŠ” íœ´ëŒ€í° ì¶©ì „ê¸°ì²˜ëŸ¼...")
    - ì§§ì€ ë¬¸ì¥ (10ë‹¨ì–´ ì´ë‚´)
    - ì´ëª¨ì§€ í™œë°œíˆ ì‚¬ìš© ğŸ”‹âš¡
    - ê²°ê³¼ëŠ” í‘œë¡œ ì •ë¦¬í•˜ë˜, ê° í•­ëª©ë§ˆë‹¤ í•œì¤„ ì„¤ëª… ì¶”ê°€""",

    "L2": """ëŒ€í•™ìƒ/ëŒ€í•™ì›ìƒ ìˆ˜ì¤€:
    - ì „ë¬¸ìš©ì–´ ì‚¬ìš©í•˜ë˜ ê´„í˜¸ ì•ˆì— ì„¤ëª… (ì˜ˆ: "IPCë¶„ë¥˜(êµ­ì œ íŠ¹í—ˆ ë¶„ë¥˜)")
    - ë…¼ë¬¸ ì‘ì„± ì°¸ê³  ê°€ëŠ¥í•˜ë„ë¡ í•™ìˆ ì  í‘œí˜„
    - ì°¸ê³ ë¬¸í—Œ í˜•ì‹ìœ¼ë¡œ íŠ¹í—ˆë²ˆí˜¸ í‘œì‹œ
    - ê´€ë ¨ ë…¼ë¬¸ì´ë‚˜ ì„ í–‰ê¸°ìˆ  ì—°ê³„ ì„¤ëª…""",

    "L3": """ì¤‘ì†Œê¸°ì—… R&D ì‹¤ë¬´ì ìˆ˜ì¤€:
    - ì‹¤ë¬´ ì¤‘ì‹¬ ìš©ì–´ (ì„ í–‰ê¸°ìˆ ì¡°ì‚¬, ê²½ìŸì‚¬ ë™í–¥)
    - ì‚¬ì—…í™” ê°€ëŠ¥ì„± ê´€ì  ì¶”ê°€
    - ê¸°ìˆ  ì ìš© ì‹œ ê³ ë ¤ì‚¬í•­ ì œì‹œ
    - ê²½ìŸì‚¬ ì¶œì› íŒ¨í„´ ë¶„ì„""",

    "L4": """ì—°êµ¬ì/ëŒ€ê¸°ì—… R&D ìˆ˜ì¤€:
    - ê¸°ìˆ ìš”ì†Œ ìƒì„¸ ë¶„ì„ (ì†Œì¬, ê³µë²•, ë¬¼ì„±)
    - ì²­êµ¬í•­ êµ¬ì¡° ì„¤ëª… ë° ê¶Œë¦¬ë²”ìœ„ ë¶„ì„
    - ê¸°ìˆ  ê³µë°± ì˜ì—­ ë° ê°œì„  ê°€ëŠ¥ì„± ì œì‹œ
    - IPC ì„¸ë¶€ ë¶„ë¥˜ í™œìš©""",

    "L5": """ë³€ë¦¬ì‚¬/ì‹¬ì‚¬ê´€ ì „ë¬¸ê°€ ìˆ˜ì¤€:
    - ì „ë¬¸ ë²•ë¥ /ì‹¬ì‚¬ ìš©ì–´ ê·¸ëŒ€ë¡œ ì‚¬ìš©
    - ì„ í–‰ê¸°ìˆ  ë§¤í•‘ ë° ì‹ ê·œì„±/ì§„ë³´ì„± íŒë‹¨
    - ê±°ì ˆì´ìœ  ê²€í†  ê´€ì 
    - ê¶Œë¦¬ë²”ìœ„ í•´ì„ ë° ì¹¨í•´ ì—¬ë¶€ ë¶„ì„""",

    "L6": """ì •ì±…ë‹´ë‹¹ì ê±°ì‹œ ë¶„ì„ ìˆ˜ì¤€:
    - ê¸°ìˆ  ë™í–¥ í†µê³„ ì¤‘ì‹¬
    - êµ­ê°€ë³„/ë¶„ì•¼ë³„ ê²½ìŸë ¥ ë¹„êµ
    - ì •ì±…ì  ì‹œì‚¬ì  ë„ì¶œ
    - ê¸°ìˆ ë¬´ì—­ìˆ˜ì§€, íŠ¹í—ˆ íŒ¨ë°€ë¦¬ ë“± ê±°ì‹œ ì§€í‘œ"""
}
```

**max_tokens ì¡°ì ˆ**:

```python
# ìˆ˜ì¤€ë³„ ì‘ë‹µ ê¸¸ì´ ì¡°ì ˆ
TOKEN_LIMITS = {
    "L1": 1000,   # ì§§ê³  ê°„ê²°
    "L2": 2000,   # ì¤‘ê°„
    "L3": 2500,   # ì‹¤ë¬´ ìƒì„¸
    "L4": 3500,   # ê¸°ìˆ  ì‹¬ì¸µ
    "L5": 4000,   # ì „ë¬¸ ë¶„ì„
    "L6": 2500    # í†µê³„ ì¤‘ì‹¬
}
```

#### B. ì˜ˆì‹œ ì œê³µ ë°©ì‹

**í”„ë¡¬í”„íŠ¸ì— í¬í•¨**:

```python
EXAMPLE_STYLES = {
    "L1": """
    ì˜ˆì‹œë¥¼ ë“¤ ë•ŒëŠ” ì¼ìƒìƒí™œê³¼ ì—°ê²°:
    - "ì´ ê¸°ìˆ ì€ ë§ˆì¹˜ íœ´ëŒ€í° ë°°í„°ë¦¬ë¥¼ ë” ì˜¤ë˜ ì“¸ ìˆ˜ ìˆê²Œ í•˜ëŠ” ê±°ì˜ˆìš”!"
    - "ìš°ë¦¬ê°€ ì“°ëŠ” ì „ê¸°ì°¨ì— ì´ëŸ° ë°°í„°ë¦¬ê°€ ë“¤ì–´ê°€ìš”"
    """,

    "L3": """
    ì˜ˆì‹œë¥¼ ë“¤ ë•ŒëŠ” ì‚¬ì—… ì ìš© ì‚¬ë¡€ ì¤‘ì‹¬:
    - "ì‚¼ì„±SDIê°€ ì´ ê¸°ìˆ ë¡œ NCM811 ì–‘ê·¹ì¬ë¥¼ ìƒìš©í™”í–ˆìŠµë‹ˆë‹¤"
    - "í˜„ëŒ€ì°¨ ì•„ì´ì˜¤ë‹‰5ì— ì ìš©ëœ ë°°í„°ë¦¬ ê¸°ìˆ ì…ë‹ˆë‹¤"
    """,

    "L5": """
    ì˜ˆì‹œë¥¼ ë“¤ ë•ŒëŠ” íŒë¡€ë‚˜ ì‹¬ì‚¬ ì‚¬ë¡€:
    - "íŠ¹í—ˆë²•ì› 2020í—ˆ1234 íŒê²°ì—ì„œ ìœ ì‚¬ ê¸°ìˆ ì˜ ì§„ë³´ì„±ì´ ë¶€ì •ë˜ì—ˆìŠµë‹ˆë‹¤"
    - "ì‹¬ì‚¬ê¸°ì¤€ 3.4.2í•­ì— ë”°ë¼ ì²­êµ¬í•­ í•´ì„ ì‹œ..."
    """
}
```

### 5.2 ë°ì´í„°ë¡œ í•´ê²°í•  ì˜ì—­

#### A. ê´€ì ë³„ ê¸°ìˆ ìš”ì†Œ ì¶”ì¶œ

**êµ¬í˜„ ìœ„ì¹˜**: ì‹ ê·œ ëª¨ë“ˆ `workflow/extractors/tech_elements.py`

**ì²˜ë¦¬ íë¦„**:

```mermaid
flowchart LR
    Patent[íŠ¹í—ˆ ë¬¸ì„œ] --> Extractor[TechElementExtractor]

    Extractor --> LLM[EXAONE LLM<br/>êµ¬ì¡°í™” ì¶”ì¶œ]
    LLM --> Parse[JSON íŒŒì‹±]

    Parse --> DB[(f_patent_tech_elements)]

    DB --> Cache[Redis ìºì‹œ]
    Cache --> API[API ì‘ë‹µ]
```

**ì¶”ì¶œ í”„ë¡¬í”„íŠ¸** (êµ¬ì¡°í™” ì¶œë ¥):

```python
TECH_ELEMENT_EXTRACTION_PROMPT = """
íŠ¹í—ˆ ë¬¸ì„œë¥¼ ì½ê³  ë‹¤ìŒ 4ê°€ì§€ ê´€ì ì—ì„œ í•µì‹¬ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ì„¸ìš”.

# ì…ë ¥ ë¬¸ì„œ
ì²­êµ¬í•­: {claims}
ìƒì„¸ì„¤ëª…: {description}

# ì¶œë ¥ í˜•ì‹ (JSON)
{{
  "purpose": {{
    "problem": "í•´ê²°í•˜ë ¤ëŠ” ë¬¸ì œ",
    "limitation": "ì„ í–‰ê¸°ìˆ ì˜ í•œê³„",
    "goal": "ë°œëª…ì˜ ëª©í‘œ"
  }},
  "material": {{
    "compounds": [
      {{"name": "í™”í•©ë¬¼ëª…", "ratio": "ì¡°ì„±ë¹„", "role": "ì—­í• "}}
    ],
    "properties": [
      {{"property": "ë¬¼ì„±ëª…", "value": "ê°’", "unit": "ë‹¨ìœ„"}}
    ]
  }},
  "process": {{
    "steps": [
      {{"step": "ê³µì •ëª…", "condition": "ì¡°ê±´", "parameter": "íŒŒë¼ë¯¸í„°"}}
    ]
  }},
  "effect": {{
    "improvements": [
      {{"aspect": "ê°œì„  ì¸¡ë©´", "improvement": "ê°œì„  ì •ë„", "comparison": "ë¹„êµ ëŒ€ìƒ"}}
    ]
  }}
}}

# ì œì•½ì‚¬í•­
- ë¬¸ì„œì— ì—†ëŠ” ë‚´ìš©ì€ ì¶”ì¸¡í•˜ì§€ ë§ ê²ƒ
- ìˆ˜ì¹˜ëŠ” ì •í™•íˆ ì¶”ì¶œ (ë‹¨ìœ„ í¬í•¨)
- í™”í•©ë¬¼ëª…ì€ IUPAC í‘œì¤€ëª… ë˜ëŠ” ë¬¸ì„œ ì›ë¬¸ ê·¸ëŒ€ë¡œ
"""
```

**ë°°ì¹˜ ì²˜ë¦¬ ìŠ¤í¬ë¦½íŠ¸**:

```python
# embedding/extract_tech_elements.py (ì‹ ê·œ)
import asyncio
from llm.llm_client import get_llm_client
from sql.db_connector import get_db_connection

async def extract_all_patents():
    """ì „ì²´ íŠ¹í—ˆ ê¸°ìˆ ìš”ì†Œ ë°°ì¹˜ ì¶”ì¶œ"""
    llm = get_llm_client()
    conn = get_db_connection()
    cursor = conn.cursor()

    # ë¯¸ì¶”ì¶œ íŠ¹í—ˆ ì¡°íšŒ
    cursor.execute("""
        SELECT p.documentid, p.conts_klang_nm, p.patent_abstc_ko
        FROM f_patents p
        LEFT JOIN f_patent_tech_elements e ON p.documentid = e.documentid
        WHERE e.id IS NULL
        LIMIT 1000
    """)

    patents = cursor.fetchall()

    for patent in patents:
        doc_id, title, abstract = patent

        # LLM í˜¸ì¶œ (êµ¬ì¡°í™” ì¶”ì¶œ)
        result = await llm.generate(
            prompt=TECH_ELEMENT_EXTRACTION_PROMPT.format(
                claims=get_claims(doc_id),
                description=get_description(doc_id)
            ),
            max_tokens=2000,
            temperature=0.1  # ë‚®ì€ ì˜¨ë„ë¡œ ì •í™•ì„± í™•ë³´
        )

        # JSON íŒŒì‹± ë° ì €ì¥
        elements = json.loads(result)
        save_tech_elements(doc_id, elements)

    conn.close()
```

#### B. ìš©ì–´ ì‚¬ì „ êµ¬ì¶•

**1ì°¨ ìš©ì–´ ëª©ë¡ (500ê°œ ìš°ì„ ìˆœìœ„)**:

| ë¶„ë¥˜ | ìš©ì–´ ì˜ˆì‹œ | ê°œìˆ˜ |
|------|----------|------|
| **ê¸°ë³¸ ê°œë…** | íŠ¹í—ˆ, ì¶œì›, ë“±ë¡, ì²­êµ¬í•­, ëª…ì„¸ì„œ, ë„ë©´ | 50 |
| **ê²€ìƒ‰/ë¶„ë¥˜** | IPC, CPC, í‚¤ì›Œë“œ ê²€ìƒ‰, ì‹œë§¨í‹± ê²€ìƒ‰ | 30 |
| **ê¸°ìˆ  ìš©ì–´** | ë¦¬íŠ¬ì´ì˜¨, ì–‘ê·¹ì¬, ì „í•´ì§ˆ, ì†Œì¬, ê³µë²• | 150 |
| **ë²•ë¥  ìš©ì–´** | ì‹ ê·œì„±, ì§„ë³´ì„±, ê¶Œë¦¬ë²”ìœ„, ì¹¨í•´, ê±°ì ˆì´ìœ  | 80 |
| **ë¹„ì¦ˆë‹ˆìŠ¤** | ì„ í–‰ê¸°ìˆ ì¡°ì‚¬, íŠ¹í—ˆë§µ, ê¸°ìˆ ë™í–¥, ê²½ìŸì‚¬ ë¶„ì„ | 90 |
| **í†µê³„ ì§€í‘œ** | ì¶œì› ê±´ìˆ˜, ë“±ë¡ë¥ , ì¸ìš© íšŸìˆ˜, ê¸°ìˆ ë¬´ì—­ìˆ˜ì§€ | 100 |

**ìˆ˜ì§‘ ë°©ë²•**:

```python
# scripts/build_term_dictionary.py (ì‹ ê·œ)
def collect_frequent_terms():
    """íŠ¹í—ˆ ë¬¸ì„œì—ì„œ ë¹ˆì¶œ ìš©ì–´ ì¶”ì¶œ"""
    # 1. TF-IDF ê¸°ë°˜ íŠ¹í—ˆ ê³ ìœ  ìš©ì–´ ì¶”ì¶œ
    # 2. IPC ì½”ë“œë³„ ëŒ€í‘œ ìš©ì–´ ì¶”ì¶œ
    # 3. ì „ë¬¸ê°€ ê²€í†  ëª©ë¡ê³¼ ë³‘í•©
    pass

def generate_level_explanations(term):
    """GPT-4ë¡œ 6ë‹¨ê³„ ì„¤ëª… ìƒì„±"""
    prompt = f"""
    íŠ¹í—ˆ ìš©ì–´ "{term}"ì— ëŒ€í•´ ì‚¬ìš©ì ìˆ˜ì¤€ë³„ë¡œ ì„¤ëª…ì„ ì‘ì„±í•˜ì„¸ìš”.

    L1 (í•™ìƒ): ì´ˆë“±í•™ìƒë„ ì´í•´í•  ìˆ˜ ìˆëŠ” ì‰¬ìš´ ë§ë¡œ
    L2 (ëŒ€í•™ìƒ): í•™ìˆ ì ì´ì§€ë§Œ ê¸°ì´ˆì ì¸ ì„¤ëª…
    L3 (ì¤‘ì†Œê¸°ì—…): ì‹¤ë¬´ ì ìš© ê´€ì ì˜ ì„¤ëª…
    L4 (ì—°êµ¬ì): ê¸°ìˆ ì ìœ¼ë¡œ ìƒì„¸í•œ ì„¤ëª…
    L5 (ì „ë¬¸ê°€): ë²•ë¥ /ì‹¬ì‚¬ ê´€ì ì˜ ì „ë¬¸ ì„¤ëª…
    L6 (ì •ì±…ë‹´ë‹¹ì): ê±°ì‹œì /í†µê³„ì  ê´€ì ì˜ ì„¤ëª…

    JSON í˜•ì‹ìœ¼ë¡œ ì¶œë ¥:
    {{
      "L1": "...",
      "L2": "...",
      ...
    }}
    """
    # GPT-4 í˜¸ì¶œ í›„ ê²€ìˆ˜
    return explanations
```

#### C. ìš©ì–´ ìë™ ë³€í™˜ í›„ì²˜ë¦¬

**êµ¬í˜„ ìœ„ì¹˜**: `workflow/nodes/generator.py` (ì‘ë‹µ ìƒì„± í›„)

```python
def post_process_response(response: str, level: str) -> str:
    """ì‘ë‹µì—ì„œ ìš©ì–´ë¥¼ ì‚¬ìš©ì ìˆ˜ì¤€ì— ë§ê²Œ ë³€í™˜"""
    conn = get_db_connection()
    cursor = conn.cursor()

    # ì‘ë‹µì— í¬í•¨ëœ ì „ë¬¸ìš©ì–´ íƒì§€
    cursor.execute("""
        SELECT term, level_{level} as explanation
        FROM f_patent_terms
        WHERE term = ANY(%s)
    """, (extract_terms(response),))

    term_map = {row[0]: row[1] for row in cursor.fetchall()}

    # L1, L2ì˜ ê²½ìš° ìš©ì–´ ë³€í™˜ ë˜ëŠ” ì„¤ëª… ì¶”ê°€
    if level in ["L1", "L2"]:
        for term, explanation in term_map.items():
            if level == "L1":
                # ì™„ì „ ì¹˜í™˜
                response = response.replace(term, explanation)
            else:  # L2
                # ê´„í˜¸ ì„¤ëª… ì¶”ê°€
                response = response.replace(term, f"{term}({explanation})")

    conn.close()
    return response
```

### 5.3 í•˜ì´ë¸Œë¦¬ë“œ ì˜ì—­ (ë°ì´í„° + í”„ë¡¬í”„íŠ¸)

#### A. ê´€ì ë³„ ìš”ì•½ ìƒì„±

**ë°ì´í„°**: `f_patent_tech_elements`ì—ì„œ ì¶”ì¶œëœ êµ¬ì¡°í™” ì •ë³´
**í”„ë¡¬í”„íŠ¸**: ìˆ˜ì¤€ë³„ ì„¤ëª… ìŠ¤íƒ€ì¼ ì ìš©

```python
def generate_perspective_summary(doc_id: str, perspective: str, level: str) -> str:
    """ê´€ì ë³„ ìš”ì•½ ìƒì„± (í•˜ì´ë¸Œë¦¬ë“œ)"""

    # 1. êµ¬ì¡°í™” ë°ì´í„° ì¡°íšŒ
    elements = get_tech_elements(doc_id)

    # 2. ê´€ì ë³„ ë°ì´í„° ì„ íƒ
    if perspective == "purpose":
        data = elements["purpose"]
    elif perspective == "material":
        data = elements["material"]
    # ...

    # 3. ìˆ˜ì¤€ë³„ í”„ë¡¬í”„íŠ¸ ì ìš©
    prompt = f"""
    ë‹¤ìŒ ë°ì´í„°ë¥¼ {level} ìˆ˜ì¤€ ì‚¬ìš©ìì—ê²Œ ì„¤ëª…í•˜ì„¸ìš”.

    ë°ì´í„°: {json.dumps(data, ensure_ascii=False)}

    {LEVEL_PROMPTS_V2[level]}
    """

    # 4. LLM í˜¸ì¶œ
    return llm.generate(prompt)
```

---

## 6. ìƒì„¸ ì„¤ê³„

### 6.1 ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

```mermaid
flowchart TB
    subgraph Frontend["í”„ë¡ íŠ¸ì—”ë“œ"]
        EasyUI[Easy Mode UI<br/>/easy ë¼ìš°íŠ¸]
        NormalUI[Normal Mode UI<br/>/chat ë¼ìš°íŠ¸]
        Upload[ë¬¸ì„œ ì—…ë¡œë“œ]
    end

    subgraph Backend["ë°±ì—”ë“œ (FastAPI)"]
        Router[API Router<br/>/chat/ask]
        LevelDetector[ìˆ˜ì¤€ ê°ì§€ê¸°<br/>LevelDetector]
        Workflow[LangGraph<br/>Workflow]
    end

    subgraph AILayer["AI ë ˆì´ì–´"]
        EXAONE[EXAONE-4.0.1<br/>vLLM ì„œë¹™]
        Extractor[ê¸°ìˆ ìš”ì†Œ<br/>ì¶”ì¶œê¸°]
        TermProcessor[ìš©ì–´ ë³€í™˜<br/>í›„ì²˜ë¦¬ê¸°]
    end

    subgraph DataLayer["ë°ì´í„° ë ˆì´ì–´"]
        PatentDB[(f_patents<br/>PostgreSQL)]
        TechElementDB[(f_patent_tech_elements<br/>PostgreSQL)]
        TermDB[(f_patent_terms<br/>PostgreSQL)]
        VectorDB[(patents_v3<br/>Qdrant)]
    end

    EasyUI --> Router
    NormalUI --> Router
    Upload --> Polaris[í´ë¼ë¦¬ìŠ¤<br/>ë¬¸ì„œ ë³€í™˜]

    Router --> LevelDetector
    LevelDetector --> Workflow

    Workflow --> EXAONE
    Workflow --> Extractor
    Workflow --> TermProcessor

    EXAONE --> TechElementDB
    Extractor --> TechElementDB
    TermProcessor --> TermDB

    Workflow --> PatentDB
    Workflow --> VectorDB

    Polaris --> TechElementDB
```

### 6.2 API ì„¤ê³„

#### A. ê¸°ì¡´ API í™•ì¥

**íŒŒì¼**: `api/routers/ax_api.py`

```python
# í˜„ì¬ êµ¬í˜„ (3ë‹¨ê³„)
class ChatAskRequest(BaseModel):
    level: Literal["ì´ˆë“±", "ì¼ë°˜ì¸", "ì „ë¬¸ê°€"] = "ì¼ë°˜ì¸"
    question: str = Field(..., max_length=2000)

# í™•ì¥ (6ë‹¨ê³„)
class ChatAskRequestV2(BaseModel):
    level: Literal["L1", "L2", "L3", "L4", "L5", "L6"]  # ì‚¬ìš©ì í”„ë¡œí•„ì—ì„œ ê°€ì ¸ì˜´
    question: str = Field(..., max_length=2000)
    user_id: str  # SSO ì—°ë™ (í•„ìˆ˜)
    mode: Literal["easy", "normal", "expert"] = "normal"

    # ê´€ì ë³„ ìš”ì•½ ìš”ì²­ (ì„ íƒ)
    perspectives: Optional[List[Literal["purpose", "material", "process", "effect"]]] = None
```

#### B. ì‹ ê·œ ì—”ë“œí¬ì¸íŠ¸

```python
@router.post("/user/set-level")
async def set_user_level(user_id: str, level: str):
    """ì‚¬ìš©ì ë ˆë²¨ ë³€ê²½ (UI ë“œë¡­ë‹¤ìš´ì—ì„œ í˜¸ì¶œ)"""
    conn = get_db_connection()
    cursor = conn.cursor()

    # ê¸°ì¡´ ë ˆë²¨ ì¡°íšŒ
    cursor.execute("SELECT current_level FROM f_user_profiles WHERE user_id = %s", (user_id,))
    old_level = cursor.fetchone()[0]

    # ë ˆë²¨ ë³€ê²½
    cursor.execute("""
        UPDATE f_user_profiles
        SET current_level = %s,
            level_change_history = level_change_history || %s::jsonb,
            updated_at = NOW()
        WHERE user_id = %s
    """, (level, json.dumps([{"timestamp": datetime.now().isoformat(), "from": old_level, "to": level}]), user_id))

    conn.commit()
    conn.close()
    return {"success": True, "new_level": level}

@router.post("/chat/perspective-summary")
async def get_perspective_summary(request: PerspectiveSummaryRequest):
    """íŠ¹í—ˆ ë¬¸ì„œì˜ ê´€ì ë³„ ìš”ì•½ ì œê³µ"""
    # request: {doc_id, perspective, level}
    extractor = TechElementExtractor()
    elements = await extractor.get_elements(request.doc_id)

    generator = PerspectiveSummaryGenerator()
    summary = await generator.generate(
        elements=elements,
        perspective=request.perspective,
        level=request.level
    )
    return {"summary": summary}

@router.get("/terms/{term}")
async def get_term_explanation(term: str, level: str):
    """íŠ¹ì • ìš©ì–´ì˜ ìˆ˜ì¤€ë³„ ì„¤ëª… ì¡°íšŒ"""
    conn = get_db_connection()
    cursor = conn.cursor()
    cursor.execute(f"""
        SELECT level_{level} FROM f_patent_terms WHERE term = %s
    """, (term,))
    result = cursor.fetchone()
    conn.close()

    if result:
        return {"term": term, "explanation": result[0]}
    else:
        return {"error": "Term not found"}
```

### 6.3 í•µì‹¬ ëª¨ë“ˆ ì„¤ê³„

#### A. ì‚¬ìš©ì ë ˆë²¨ ë§¤í•‘ ë¡œì§

**ì‹ ê·œ íŒŒì¼**: `workflow/user/level_mapper.py`

```python
class UserLevelMapper:
    """ê°€ì… ì •ë³´ ê¸°ë°˜ ë¦¬í„°ëŸ¬ì‹œ ë ˆë²¨ ë§¤í•‘"""

    LEVEL_MAPPING = {
        # í•™ë ¥ ê¸°ë°˜
        "ì´ˆë“±í•™ìƒ": "L1",
        "ì¤‘í•™ìƒ": "L1",
        "ê³ ë“±í•™ìƒ": "L2",
        "ëŒ€í•™ìƒ": "L2",
        "ëŒ€í•™ì›ìƒ": "L2",

        # ì§ì—… ê¸°ë°˜
        "ì¤‘ì†Œê¸°ì—…_ì‹¤ë¬´ì": "L3",
        "ëŒ€ê¸°ì—…_R&D": "L4",
        "ì—°êµ¬ì›": "L4",
        "ë³€ë¦¬ì‚¬": "L5",
        "ì‹¬ì‚¬ê´€": "L5",
        "íŠ¹í—ˆì „ë¬¸ê°€": "L5",
        "ì •ì±…ë‹´ë‹¹ì": "L6"
    }

    @classmethod
    def get_initial_level(cls, education_level: str, occupation: str) -> str:
        """ê°€ì… ì‹œ ê¸°ë³¸ ë ˆë²¨ ê²°ì •"""
        # 1. ì§ì—… ìš°ì„  (ë” êµ¬ì²´ì )
        if occupation in cls.LEVEL_MAPPING:
            return cls.LEVEL_MAPPING[occupation]

        # 2. í•™ë ¥ìœ¼ë¡œ íŒë‹¨
        if education_level in cls.LEVEL_MAPPING:
            return cls.LEVEL_MAPPING[education_level]

        # 3. ê¸°ë³¸ê°’
        return "L2"  # ì¼ë°˜ ì‚¬ìš©ì

    @classmethod
    async def create_user_profile(cls, user_id: str, education_level: str, occupation: str):
        """ì‹ ê·œ ì‚¬ìš©ì í”„ë¡œí•„ ìƒì„±"""
        initial_level = cls.get_initial_level(education_level, occupation)

        conn = get_db_connection()
        cursor = conn.cursor()

        cursor.execute("""
            INSERT INTO f_user_profiles (user_id, education_level, occupation, registered_level, current_level)
            VALUES (%s, %s, %s, %s, %s)
        """, (user_id, education_level, occupation, initial_level, initial_level))

        conn.commit()
        conn.close()

        return initial_level
```

#### B. ê¸°ìˆ ìš”ì†Œ ì¶”ì¶œê¸°

**ì‹ ê·œ íŒŒì¼**: `workflow/extractors/tech_elements.py`

```python
class TechElementExtractor:
    """íŠ¹í—ˆ ë¬¸ì„œì—ì„œ 4ëŒ€ ê´€ì  ê¸°ìˆ ìš”ì†Œ ì¶”ì¶œ"""

    async def extract(self, doc_id: str) -> Dict[str, Any]:
        """êµ¬ì¡°í™”ëœ ê¸°ìˆ ìš”ì†Œ ì¶”ì¶œ"""

        # 1. ìºì‹œ í™•ì¸
        cached = self._get_cached(doc_id)
        if cached:
            return cached

        # 2. ë¬¸ì„œ ì¡°íšŒ
        patent = self._get_patent(doc_id)

        # 3. LLM êµ¬ì¡°í™” ì¶”ì¶œ
        llm = get_llm_client()
        result = await llm.generate(
            prompt=TECH_ELEMENT_EXTRACTION_PROMPT.format(
                claims=patent["claims"],
                description=patent["description"]
            ),
            max_tokens=2000,
            temperature=0.1
        )

        # 4. JSON íŒŒì‹±
        elements = json.loads(result)

        # 5. ê²€ì¦ ë° ì €ì¥
        if self._validate(elements):
            self._save_to_db(doc_id, elements)
            self._cache(doc_id, elements)

        return elements

    def _validate(self, elements: Dict) -> bool:
        """ì¶”ì¶œ ê²°ê³¼ ê²€ì¦"""
        required_keys = ["purpose", "material", "process", "effect"]
        return all(k in elements for k in required_keys)
```

#### C. ë ˆë²¨ ì „í™˜ UI ì»´í¬ë„ŒíŠ¸

**ì‹ ê·œ íŒŒì¼**: `frontend/components/LevelSwitcher.tsx`

```typescript
interface LevelSwitcherProps {
  userId: string;
  currentLevel: string;
  onLevelChange: (newLevel: string) => void;
}

export function LevelSwitcher({ userId, currentLevel, onLevelChange }: LevelSwitcherProps) {
  const levels = [
    { value: "L1", label: "ì‰¬ìš´ ì„¤ëª… (í•™ìƒ)" },
    { value: "L2", label: "ê¸°ë³¸ ì„¤ëª… (ëŒ€í•™ìƒ)" },
    { value: "L3", label: "ì‹¤ë¬´ ì¤‘ì‹¬ (ì¤‘ì†Œê¸°ì—…)" },
    { value: "L4", label: "ê¸°ìˆ  ìƒì„¸ (ì—°êµ¬ì)" },
    { value: "L5", label: "ì „ë¬¸ê°€ (ë³€ë¦¬ì‚¬)" },
    { value: "L6", label: "ì •ì±… ë™í–¥ (ë‹´ë‹¹ì)" }
  ];

  const handleChange = async (newLevel: string) => {
    // API í˜¸ì¶œ: ë ˆë²¨ ë³€ê²½ ì €ì¥
    await fetch("/api/user/set-level", {
      method: "POST",
      body: JSON.stringify({ user_id: userId, level: newLevel })
    });

    onLevelChange(newLevel);
  };

  return (
    <div className="level-switcher">
      <select value={currentLevel} onChange={(e) => handleChange(e.target.value)}>
        {levels.map((level) => (
          <option key={level.value} value={level.value}>
            {level.label}
          </option>
        ))}
      </select>
    </div>
  );
}
```

#### D. ìš©ì–´ ë³€í™˜ í›„ì²˜ë¦¬ê¸°

**ì‹ ê·œ íŒŒì¼**: `workflow/processors/term_processor.py`

```python
class TermProcessor:
    """ì‘ë‹µì—ì„œ ìš©ì–´ë¥¼ ìˆ˜ì¤€ë³„ë¡œ ë³€í™˜"""

    def __init__(self):
        self.term_cache = self._load_term_dict()

    def process(self, response: str, level: str) -> str:
        """ìˆ˜ì¤€ë³„ ìš©ì–´ ë³€í™˜"""

        if level in ["L4", "L5"]:
            # ì „ë¬¸ê°€ëŠ” ë³€í™˜ ë¶ˆí•„ìš”
            return response

        # 1. ìš©ì–´ íƒì§€ (ì •ê·œì‹ + NER)
        detected_terms = self._detect_terms(response)

        # 2. ìˆ˜ì¤€ë³„ ì„¤ëª… ì¡°íšŒ
        term_map = {}
        for term in detected_terms:
            if term in self.term_cache:
                explanation = self.term_cache[term].get(f"level_{level}")
                if explanation:
                    term_map[term] = explanation

        # 3. ë³€í™˜ ì ìš©
        if level == "L1":
            # ì™„ì „ ì¹˜í™˜
            for term, explanation in term_map.items():
                response = response.replace(term, explanation)
        elif level in ["L2", "L3"]:
            # ê´„í˜¸ ì„¤ëª… ì¶”ê°€
            for term, explanation in term_map.items():
                # ì´ë¯¸ ê´„í˜¸ê°€ ìˆìœ¼ë©´ ìŠ¤í‚µ
                if f"{term}(" not in response:
                    response = response.replace(term, f"{term}({explanation})", 1)

        return response

    def _detect_terms(self, text: str) -> Set[str]:
        """í…ìŠ¤íŠ¸ì—ì„œ ì „ë¬¸ìš©ì–´ íƒì§€"""
        # 1. ìš©ì–´ ì‚¬ì „ ë§¤ì¹­ (ë¹ ë¥¸ ë°©ë²•)
        terms = set()
        for term in self.term_cache.keys():
            if term in text:
                terms.add(term)

        # 2. NER ê¸°ë°˜ íƒì§€ (ì„ íƒì )
        # ner_terms = self._ner_extract(text)
        # terms.update(ner_terms)

        return terms
```

### 6.4 í”„ë¡ íŠ¸ì—”ë“œ ë¼ìš°íŒ…

#### Easy Mode (`/easy`)

```typescript
// frontend/app/easy/page.tsx (ì‹ ê·œ)
export default function EasyModePage() {
  return (
    <div className="easy-mode">
      <ChatInterface
        mode="easy"
        level="L1"
        features={{
          showFilters: false,
          showDocumentUpload: false,
          showRecommendedQuestions: true,
          showTermPopup: true,
          useEmoji: true
        }}
      />
    </div>
  );
}
```

#### Normal Mode (`/chat`)

```typescript
// frontend/app/chat/page.tsx (ê¸°ì¡´ í™•ì¥)
export default function ChatPage() {
  const [level, setLevel] = useState<string>("L2"); // ê¸°ë³¸ê°’
  const [autoDetect, setAutoDetect] = useState(true);

  return (
    <div className="normal-mode">
      <LevelSelector
        level={level}
        onChange={setLevel}
        autoDetect={autoDetect}
        onAutoDetectChange={setAutoDetect}
      />

      <ChatInterface
        mode="normal"
        level={level}
        features={{
          showFilters: true,
          showDocumentUpload: true,
          showPerspectiveSummary: true,
          showAdvancedAnalysis: level >= "L4"
        }}
      />
    </div>
  );
}
```

---

## 7. êµ¬í˜„ ìš°ì„ ìˆœìœ„

### 7.1 Phase 1: í•µì‹¬ ì¸í”„ë¼ ë° ë°ì´í„° êµ¬ì¶• (1~4ì›”)

#### 1-A. ë°ì´í„° êµ¬ì¶• (ë³‘ë ¬ ì§„í–‰, 0.5ê°œì›”)

**v1.3 ë³€ê²½**: ìš©ì–´ ì‚¬ì „ êµ¬ì¶• ì œê±° (LLM ì‹¤ì‹œê°„ ìƒì„± ì±„íƒ)

| ìˆœìœ„ | ì‘ì—… | ë‹´ë‹¹ | M/M | ë¹„ê³  |
|------|------|------|-----|------|
| 1 | ê¸°ìˆ ìš”ì†Œ ë°°ì¹˜ ì¶”ì¶œ (4ëŒ€ ê´€ì ) | Wert | 0.3 | 150K íŠ¹í—ˆ, GPU 3.5ì¼ ê°€ë™ |

**ì†Œê³„ (ë°ì´í„° êµ¬ì¶•): 0.3 M/M**

**ì œê±°ëœ ì‘ì—…** (4.0 M/M ì ˆê°):
- ~~12ëŒ€ ë¶„ì•¼ íŠ¹í—ˆ ìƒ˜í”Œë§~~ (0.3 M/M) â†’ ë¶ˆí•„ìš” (ì „ì²´ íŠ¹í—ˆ ëŒ€ìƒ)
- ~~íŠ¹í—ˆ êµ¬ì¡° ê¸°ë°˜ ìš©ì–´ ì¶”ì¶œ ìŠ¤í¬ë¦½íŠ¸~~ (1.0 M/M) â†’ ë¶ˆí•„ìš” (LLMì´ ì‹¤ì‹œê°„ ì²˜ë¦¬)
- ~~ì¢…ì ìš©ì–´ ì¶”ì¶œ ì‹¤í–‰~~ (0.5 M/M) â†’ ë¶ˆí•„ìš”
- ~~ì „ë¬¸ê°€ 1ì°¨ ê²€ìˆ˜ (ìš©ì–´ ì„ ì •)~~ (1.0 M/M) â†’ ë¶ˆí•„ìš”
- ~~LLM ê¸°ë°˜ ìˆ˜ì¤€ë³„ ì„¤ëª… ìƒì„±~~ (1.5 M/M) â†’ ë¶ˆí•„ìš” (ì‹¤ì‹œê°„ ìƒì„±)
- ~~ì „ë¬¸ê°€ 2ì°¨ ê²€ìˆ˜ (ì„¤ëª… í’ˆì§ˆ)~~ (0.5 M/M) â†’ ë¶ˆí•„ìš”
- ~~ë°ì´í„° í’ˆì§ˆ ê²€ì¦ ìë™í™”~~ (0.2 M/M) â†’ ë¶ˆí•„ìš”

#### 1-B. ì‹œìŠ¤í…œ êµ¬í˜„ (ë³‘ë ¬ ì§„í–‰, 2ê°œì›”)

**v1.3 ë³€ê²½**: ìš©ì–´ ì‚¬ì „ ê´€ë ¨ ëª¨ë“ˆ ì œê±°

| ìˆœìœ„ | ì‘ì—… | ë‹´ë‹¹ | M/M | ë¹„ê³  |
|------|------|------|-----|------|
| 1 | 6ë‹¨ê³„ ë¦¬í„°ëŸ¬ì‹œ í”„ë¡¬í”„íŠ¸ ì‘ì„± (LEVEL_PROMPTS_V3) | Wert | 1.5 | L3~L6 ì¶”ê°€ + ìš©ì–´ ì„¤ëª… ê°€ì´ë“œë¼ì¸ ë‚´ì¥ |
| 2 | ê¸°ìˆ ìš”ì†Œ ì¶”ì¶œ í…Œì´ë¸” ì„¤ê³„ | Wert | 0.5 | f_patent_tech_elements ìŠ¤í‚¤ë§ˆ |
| 3 | ì‚¬ìš©ì í”„ë¡œí•„ í…Œì´ë¸” ì„¤ê³„ | Wert | 0.3 | f_user_profiles ìŠ¤í‚¤ë§ˆ |
| 4 | ë ˆë²¨ ë§¤í•‘ ë¡œì§ êµ¬í˜„ | Wert | 0.5 | UserLevelMapper |
| 5 | ì‘ë‹µ ìƒì„± í†µí•© | Wert | 0.5 | LevelAwareResponseGenerator |

**ì†Œê³„ (ì‹œìŠ¤í…œ êµ¬í˜„): 3.3 M/M**

**ì œê±°ëœ ì‘ì—…** (1.0 M/M ì ˆê°):
- ~~ìš©ì–´ ì‚¬ì „ í…Œì´ë¸” ì„¤ê³„ ë° êµ¬ì¶•~~ (0.5 M/M) â†’ ë¶ˆí•„ìš”
- ~~ìš©ì–´ ë³€í™˜ í›„ì²˜ë¦¬ ëª¨ë“ˆ~~ (1.5 M/M) â†’ ë¶ˆí•„ìš” (LLMì´ ì‘ë‹µì— í¬í•¨)

**Phase 1 ì „ì²´: 3.6 M/M** (ë°ì´í„° êµ¬ì¶• 0.3 M/M + ì‹œìŠ¤í…œ êµ¬í˜„ 3.3 M/M)

### 7.2 Phase 2: UI êµ¬í˜„ (2~4ì›”)

| ìˆœìœ„ | ì‘ì—… | ë‹´ë‹¹ | M/M | ë¹„ê³  |
|------|------|------|-----|------|
| 1 | Easy Mode UI ë¼ìš°íŒ… | ì•„í”„ë¡œì‹œìŠ¤ | 1.5 | /easy ê²½ë¡œ |
| 2 | ë ˆë²¨ ì „í™˜ ë“œë¡­ë‹¤ìš´ | ì•„í”„ë¡œì‹œìŠ¤ | 0.5 | í—¤ë” ì˜ì—­, ì–¸ì œë“  ë³€ê²½ ê°€ëŠ¥ |
| 3 | ê°€ì… ì‹œ í•™ë ¥/ì§ì—… ì…ë ¥ í¼ | ì•„í”„ë¡œì‹œìŠ¤ | 0.5 | ë ˆë²¨ ìë™ ë§¤í•‘ |
| 4 | ê´€ì ë³„ ìš”ì•½ UI | ì•„í”„ë¡œì‹œìŠ¤ | 2.0 | ëª©ì /ì†Œì¬/ê³µë²•/íš¨ê³¼ íƒ­ |
| 5 | ìš©ì–´ íŒì—… ì»´í¬ë„ŒíŠ¸ | ì•„í”„ë¡œì‹œìŠ¤ | 1.0 | í´ë¦­ ì‹œ ì„¤ëª… í‘œì‹œ |
| 6 | ì¶”ì²œ ì§ˆë¬¸ UI | ì•„í”„ë¡œì‹œìŠ¤ | 0.5 | Easy Modeìš© |

**ì†Œê³„: 6.0 M/M**

### 7.3 Phase 3: ê³ ë„í™” (4~7ì›”)

| ìˆœìœ„ | ì‘ì—… | ë‹´ë‹¹ | M/M | ë¹„ê³  |
|------|------|------|-----|------|
| 1 | ì‚¬ìš©ì í”„ë¡œí•„ ê´€ë¦¬ | Wert | 1.5 | í•™ìŠµ ì´ë ¥ ì¶”ì  |
| 2 | ë¬¸ì„œ ì—…ë¡œë“œ ì—°ë™ | í´ë¼ë¦¬ìŠ¤ | 3.0 | OCR + ê¸°ìˆ ìš”ì†Œ ì¶”ì¶œ |
| 3 | ê´€ì ë³„ ìš”ì•½ ìƒì„± API | Wert | 2.0 | í•˜ì´ë¸Œë¦¬ë“œ ë°©ì‹ |
| 4 | A/B í…ŒìŠ¤íŠ¸ ë° ê°œì„  | ì¼€ì´ì› | 2.0 | íŒŒì¼ëŸ¿ í”¼ë“œë°± |
| 5 | ë ˆë²¨ë³„ í†µê³„ ë¶„ì„ ëŒ€ì‹œë³´ë“œ | ì•„í”„ë¡œì‹œìŠ¤ | 1.5 | ì‚¬ìš© íŒ¨í„´ ë¶„ì„ |

**ì†Œê³„: 10.0 M/M** (ê¸°ì¡´ 10.5 M/Mì—ì„œ 0.5 M/M ì ˆê°)

### 7.4 ì´ íˆ¬ì… ê³µìˆ˜

| Phase | ê¸°ê°„ | M/M | ë³€ê²½ì‚¬í•­ (v1.3) |
|-------|------|-----|----------------|
| Phase 1: í•µì‹¬ ì¸í”„ë¼ + ë°ì´í„° êµ¬ì¶• | 1~2ì›” | 3.6 | **-7.0 M/M** (ìš©ì–´ ì‚¬ì „ êµ¬ì¶• ì œê±°) |
| Phase 2: UI êµ¬í˜„ | 2~4ì›” | 6.0 | ë³€ê²½ ì—†ìŒ |
| Phase 3: ê³ ë„í™” | 4~7ì›” | 10.0 | ë³€ê²½ ì—†ìŒ |
| **í•©ê³„** | | **19.6 M/M** | **ì´ -7.0 M/M** |

**Phase 1 ìƒì„¸ (v1.3 ìµœì¢…)**:
- âœ… **ë°ì´í„° êµ¬ì¶• (0.3 M/M)**:
  - ê¸°ìˆ ìš”ì†Œ ë°°ì¹˜ ì¶”ì¶œ (4ëŒ€ ê´€ì ) (0.3 M/M)
  - ~~ìš©ì–´ ì‚¬ì „ êµ¬ì¶• ì œê±°~~ (-4.0 M/M)
- âœ… **ì‹œìŠ¤í…œ êµ¬í˜„ (3.3 M/M)**:
  - ìˆ˜ì¤€ë³„ í”„ë¡¬í”„íŠ¸ ì‘ì„± (LEVEL_PROMPTS_V3) (1.5 M/M)
  - í…Œì´ë¸” ì„¤ê³„ (f_patent_tech_elements, f_user_profiles) (0.8 M/M)
  - ë ˆë²¨ ë§¤í•‘ ë¡œì§ (UserLevelMapper) (0.5 M/M)
  - ì‘ë‹µ ìƒì„± í†µí•© (LevelAwareResponseGenerator) (0.5 M/M)
  - ~~ìš©ì–´ ë³€í™˜ í›„ì²˜ë¦¬ ì œê±°~~ (-1.0 M/M)

**ì‹¤ì œ ê¸°ê°„ ë‹¨ì¶•**:
- Phase 1: 4ê°œì›” â†’ **2ê°œì›”** (ìš©ì–´ ì‚¬ì „ êµ¬ì¶• ì œê±°ë¡œ ëŒ€í­ ë‹¨ì¶•)
- ì „ì²´: 7ê°œì›” ë³€ë™ ì—†ìŒ (Phase 2, 3 ë³‘ë ¬ ì§„í–‰)

**ì´ì „ ë²„ì „ ëŒ€ë¹„ ë³€ê²½**:
- v1.0 â†’ v1.1: -0.5 M/M (ìë™ ê°ì§€ ì œê±°)
- v1.1 â†’ v1.2: +3.6 M/M (ë°ì´í„° êµ¬ì¶• í”„ë¡œì„¸ìŠ¤ ìƒì„¸í™”)
- v1.2 â†’ v1.3: **-7.0 M/M** (ìš©ì–´ ì‚¬ì „ êµ¬ì¶• ì œê±°, LLM ì‹¤ì‹œê°„ ìƒì„± ì±„íƒ)
- **ìµœì¢…**: 23.5 M/M (v1.0) â†’ 23.0 M/M (v1.1) â†’ 26.6 M/M (v1.2) â†’ **19.6 M/M (v1.3)** â­

---

## 8. ê²€ì¦ ê³„íš

### 8.1 í’ˆì§ˆ ì§€í‘œ

| í•­ëª© | ì¸¡ì • ë°©ë²• | ëª©í‘œì¹˜ | ë¹„ê³  |
|------|----------|--------|------|
| **ê¸°ìˆ ìš”ì†Œ ì¶”ì¶œ ì •í™•ë„** | ì „ë¬¸ê°€ ê²€ìˆ˜ (ìƒ˜í”Œ 100ê±´) | 85% ì´ìƒ | ëª©ì /ì†Œì¬/ê³µë²•/íš¨ê³¼ 4ê´€ì  |
| **ìš©ì–´ ì„¤ëª… ì ì ˆì„±** | ì‚¬ìš©ì ë§Œì¡±ë„ ì„¤ë¬¸ | 4.0/5.0 ì´ìƒ | ë ˆë²¨ë³„ 5ì  ì²™ë„ |
| **ì‘ë‹µ ì´í•´ë„** | ì´í•´ë„ ìê°€ í‰ê°€ | L1: 90%, L5: 95% | ê° ë ˆë²¨ë³„ ëª©í‘œ |
| **ì²˜ë¦¬ ì‹œê°„** | API ì‘ë‹µ ì‹œê°„ | 3ì´ˆ ì´ë‚´ | 95th percentile |
| **ìš©ì–´ ë³€í™˜ ì •í™•ë„** | ìë™ í…ŒìŠ¤íŠ¸ | 95% ì´ìƒ | ì˜¤ë³€í™˜ ê²€ì¶œ |

### 8.2 í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

#### A. Easy Mode í…ŒìŠ¤íŠ¸

```
ì‹œë‚˜ë¦¬ì˜¤: ê³ ë“±í•™ìƒì´ ë°°í„°ë¦¬ ê¸°ìˆ  íƒìƒ‰
1. /easy ì ‘ì†
2. "ë°°í„°ë¦¬ ì˜¤ë˜ ì“°ëŠ” ê¸°ìˆ  ë­ ìˆì–´?" ì§ˆë¬¸
3. ì‘ë‹µ í™•ì¸:
   - ì‰¬ìš´ ë§ë¡œ ì„¤ëª… (ì „ë¬¸ìš©ì–´ 5% ì´í•˜)
   - ë¹„ìœ  ì‚¬ìš©
   - ì´ëª¨ì§€ í¬í•¨
   - ì¶”ì²œ ì§ˆë¬¸ 3ê°œ í‘œì‹œ
4. ìš©ì–´ í´ë¦­ ì‹œ íŒì—… í™•ì¸
```

#### B. Normal Mode ìˆ˜ì¤€ë³„ í…ŒìŠ¤íŠ¸

```
ì‹œë‚˜ë¦¬ì˜¤: ë™ì¼ ì§ˆë¬¸ "ë¦¬íŠ¬ì´ì˜¨ ë°°í„°ë¦¬ ê¸°ìˆ  ë™í–¥"

L2 (ëŒ€í•™ìƒ):
- ì „ë¬¸ìš©ì–´ 30%, ê´„í˜¸ ì„¤ëª…
- ë…¼ë¬¸ ì°¸ê³  ê°€ëŠ¥ í˜•ì‹
- í•™ìˆ ì  í‘œí˜„

L4 (ì—°êµ¬ì):
- ê¸°ìˆ ìš”ì†Œ ìƒì„¸ ë¶„ì„
- ì²­êµ¬í•­ êµ¬ì¡° ì„¤ëª…
- IPC ì„¸ë¶€ ë¶„ë¥˜ í™œìš©

L5 (ì „ë¬¸ê°€):
- ë²•ë¥  ìš©ì–´ ê·¸ëŒ€ë¡œ
- ì„ í–‰ê¸°ìˆ  ë§¤í•‘
- ê¶Œë¦¬ë²”ìœ„ í•´ì„
```

#### C. ê´€ì ë³„ ìš”ì•½ í…ŒìŠ¤íŠ¸

```
íŠ¹í—ˆ: KR1020210001234 (ì „ê³ ì²´ ë°°í„°ë¦¬)

ëª©ì  ê´€ì :
- L1: "ê¸°ì¡´ ë°°í„°ë¦¬ì˜ í­ë°œ ìœ„í—˜ì„ ì—†ì• ë ¤ê³  í–ˆì–´ìš”"
- L4: "ì•¡ì²´ ì „í•´ì§ˆì˜ ì—´í­ì£¼ ë¬¸ì œ í•´ê²°ì„ ëª©ì ìœ¼ë¡œ ì „ê³ ì²´ ì „í•´ì§ˆ ì ìš©"

ì†Œì¬ ê´€ì :
- L1: "íŠ¹ë³„í•œ ì„¸ë¼ë¯¹ ì¬ë£Œë¥¼ ì‚¬ìš©í–ˆì–´ìš”"
- L4: "Li7La3Zr2O12 (LLZO) ê°€ë„· êµ¬ì¡° ì „ê³ ì²´ ì „í•´ì§ˆ, ì´ì˜¨ì „ë„ë„ 1.2Ã—10â»Â³ S/cm"
```

### 8.3 íŒŒì¼ëŸ¿ í…ŒìŠ¤íŠ¸ ê³„íš

**ê¸°ê°„**: 2025ë…„ 6~7ì›”
**ì°¸ì—¬**: ì§€ì‚°í•™ì—° 50ëª…

| ê·¸ë£¹ | ì¸ì› | í…ŒìŠ¤íŠ¸ ë‚´ìš© |
|------|------|------------|
| **í•™ìƒ** (L1) | 10ëª… | Easy Mode ì‚¬ìš©ì„±, ì´í•´ë„ |
| **ëŒ€í•™ìƒ** (L2) | 10ëª… | ë…¼ë¬¸ ì‘ì„± ì§€ì›, ì„ í–‰ê¸°ìˆ  ì¡°ì‚¬ |
| **ì¤‘ì†Œê¸°ì—…** (L3) | 10ëª… | ì‹¤ë¬´ í™œìš©ë„, ê²½ìŸì‚¬ ë¶„ì„ |
| **ì—°êµ¬ì** (L4) | 10ëª… | ê¸°ìˆ  ë¶„ì„ ì •í™•ë„, ê³µë°± ë°œê²¬ |
| **ì „ë¬¸ê°€** (L5) | 5ëª… | ë²•ë¥  ê²€í†  ì í•©ì„± |
| **ì •ì±…** (L6) | 5ëª… | ê±°ì‹œ ë™í–¥ ë¶„ì„ ìœ ìš©ì„± |

**ì¸¡ì • í•­ëª©**:
1. ì‘ì—… ì™„ë£Œ ì‹œê°„ (ê¸°ì¡´ ëŒ€ë¹„ ë‹¨ì¶•ë¥ )
2. ë§Œì¡±ë„ (5ì  ì²™ë„)
3. ì˜¤ë¥˜ ê±´ìˆ˜ (ìš©ì–´ ì˜¤ë³€í™˜, ë¶€ì •í™•í•œ ì¶”ì¶œ)
4. ì¬ì‚¬ìš© ì˜í–¥

---

## ë¶€ë¡ A: í•µì‹¬ íŒŒì¼ ê²½ë¡œ (v1.3 ê¸°ì¤€)

| êµ¬ì„±ìš”ì†Œ | ê¸°ì¡´ íŒŒì¼ | ì‹ ê·œ íŒŒì¼ |
|----------|----------|----------|
| **ìƒíƒœ ê´€ë¦¬** | `workflow/state.py` | - |
| **í”„ë¡¬í”„íŠ¸ (V3)** | `workflow/nodes/generator.py:544-565` | í™•ì¥ (LEVEL_PROMPTS_V3, ìš©ì–´ ì„¤ëª… ê°€ì´ë“œë¼ì¸ í¬í•¨) |
| **API ëª¨ë¸** | `api/models.py:434` | í™•ì¥ (ChatAskRequestV2) |
| **ë ˆë²¨ ë§¤í•‘** | - | `workflow/user/level_mapper.py` |
| **ì‘ë‹µ ìƒì„±** | - | `workflow/nodes/generator.py:LevelAwareResponseGenerator` |
| **ê¸°ìˆ ìš”ì†Œ ì¶”ì¶œ** | - | `workflow/extractors/tech_elements.py` |
| **ê¸°ìˆ ìš”ì†Œ ë°°ì¹˜ ì¶”ì¶œ** | - | `embedding/extract_tech_elements_batch.py` |
| **Easy Mode UI** | - | `frontend/app/easy/page.tsx` |
| **ë ˆë²¨ ì „í™˜ UI** | - | `frontend/components/LevelSwitcher.tsx` |
| **ê°€ì… í¼ UI** | - | `frontend/components/RegisterForm.tsx` |

**v1.3ì—ì„œ ì œê±°ëœ íŒŒì¼**:
- ~~`workflow/processors/term_processor.py`~~ (ìš©ì–´ ë³€í™˜ í›„ì²˜ë¦¬)
- ~~`workflow/validators/data_quality.py`~~ (ìš©ì–´ ì‚¬ì „ í’ˆì§ˆ ê²€ì¦)
- ~~`scripts/extract_seed_terms.py`~~ (ì¢…ì ìš©ì–´ ì¶”ì¶œ)
- ~~`scripts/generate_level_explanations.py`~~ (ìˆ˜ì¤€ë³„ ì„¤ëª… ìƒì„±)
- ~~`scripts/build_term_dictionary.py`~~ (ìš©ì–´ ì‚¬ì „ êµ¬ì¶•)

## ë¶€ë¡ B: ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ (v1.3 ê¸°ì¤€)

```sql
-- 1. ê¸°ìˆ ìš”ì†Œ í…Œì´ë¸” ìƒì„±
\i sql/migrations/001_create_tech_elements.sql

-- 2. ì‚¬ìš©ì í”„ë¡œí•„ í…Œì´ë¸” ìƒì„±
\i sql/migrations/002_create_user_profiles.sql
```

**v1.3ì—ì„œ ì œê±°ëœ ë§ˆì´ê·¸ë ˆì´ì…˜**:
- ~~`002_create_terms.sql`~~ (ìš©ì–´ ì‚¬ì „ í…Œì´ë¸”) â†’ LLM ì‹¤ì‹œê°„ ìƒì„±ìœ¼ë¡œ ë¶ˆí•„ìš”
- ~~`001_initial_terms.sql`~~ (ì´ˆê¸° ìš©ì–´ ë°ì´í„°) â†’ ë¶ˆí•„ìš”

## ë¶€ë¡ C: ì°¸ê³  ìë£Œ

- ì‚¬ì—…ê³„íšì„œ IVì¥: ì‚¬ìš©ì ë§ì¶¤í˜• ì‘ë‹µ ì‹œìŠ¤í…œ ì„¤ê³„
- WCAG 2.1 ì ‘ê·¼ì„± ê°€ì´ë“œë¼ì¸
- íŠ¹í—ˆ ìš©ì–´ í‘œì¤€í™” ì§€ì¹¨ (íŠ¹í—ˆì²­)
- EXAONE-4.0.1 API ë¬¸ì„œ

---

**ë¬¸ì„œ ë²„ì „**: v1.3 (LLM ê¸°ë°˜ ìš©ì–´ ì„¤ëª… ì±„íƒ)
**ìµœì¢… ìˆ˜ì •**: 2026-01-14
**ì‘ì„±ì**: Claude Code Agent
**ê²€í† ì**: Wert PM

---

## ğŸ“Š v1.3 ìš”ì•½: ì£¼ìš” ê°œì„  ì‚¬í•­

### ê³µìˆ˜ ì ˆê°
- **Phase 1**: 10.6 M/M â†’ **3.6 M/M** (-7.0 M/M, **66% ì ˆê°**)
- **ì „ì²´**: 26.6 M/M â†’ **19.6 M/M** (-7.0 M/M, **26% ì ˆê°**)

### ê¸°ê°„ ë‹¨ì¶•
- **Phase 1**: 4ê°œì›” â†’ **2ê°œì›”** (50% ë‹¨ì¶•)

### í•µì‹¬ ë³€ê²½
1. âŒ ìš©ì–´ ì‚¬ì „ êµ¬ì¶• ì‘ì—… ì™„ì „ ì œê±° (4.0 M/M)
2. âŒ ìš©ì–´ ë³€í™˜ í›„ì²˜ë¦¬ ëª¨ë“ˆ ì œê±° (1.0 M/M)
3. âœ… LLM ì‹¤ì‹œê°„ ì»¨í…ìŠ¤íŠ¸ ì¸ì‹ ìš©ì–´ ì„¤ëª… ì±„íƒ
4. âœ… ì„±ëŠ¥ ë™ì¼ (1.8ì´ˆ), ì˜¤íˆë ¤ í›„ì²˜ë¦¬ ì œê±°ë¡œ ê°œì„  ê°€ëŠ¥
5. âœ… ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ë§¥ ì„¤ëª…, ì‹ ì¡°ì–´ ìë™ ëŒ€ì‘

### ê¶Œì¥ êµ¬í˜„ ë‹¨ê³„
1. **Phase 1**: ìˆœìˆ˜ LLM ì‹¤ì‹œê°„ ìƒì„± (ì¦‰ì‹œ ë°°í¬)
2. **Phase 2** (ì„ íƒ): Redis ìºì‹± ì¶”ê°€ (ì„±ëŠ¥ ìµœì í™”)
3. **Phase 3** (ì„ íƒ): í•µì‹¬ 50ê°œ ìš©ì–´ë§Œ ìˆ˜ë™ íë ˆì´ì…˜
